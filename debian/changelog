linux-source-2.6.22 (2.6.22-6.12) UNRELEASED; urgency=low

  CHANGELOG: Do not edit directly. Autogenerated at release.
  CHANGELOG: Use the printchanges target to see the curent changes.
  CHANGELOG: Use the insertchanges target to create the final log.

 -- Ben Collins <bcollins@ubuntu.com>  Sat, 19 May 2007 10:48:20 -0400

linux-source-2.6.22 (2.6.22-5.11) gutsy; urgency=low

  [Ben Collins]

  * build/headers/ppc: Correct asm-ppc -> asm for arch symlink
  * build/headers/ia64: Fix find command line to correctly pull in *.lds
    files
  * Bump ABI

  [Upstream Kernel Changes]

  * [IA64] spelling fixes: arch/ia64/
  * [AVR32] Remove bogus comment in arch/avr32/kernel/irq.c
  * [AVR32] optimize pagefault path
  * [AVR32] Wire up signalfd, timerfd and eventfd
  * [IA64] wire up {signal,timer,event}fd syscalls
  * [IA64] kdump on INIT needs multi-nodes sync-up (v.2)
  * [IA64] s/scalibility/scalability/
  * [AVR32] Implement platform hooks for atmel_lcdfb driver
  * [IA64] Fix section conflict of ia64_mlogbuf_finish
  * [SPARC64]: Add hypervisor API negotiation and fix console bugs.
  * pata_scc had been missed by ata_std_prereset() switch
  * libata: separate out ata_dev_reread_id()
  * libata: during revalidation, check n_sectors after device is configured
  * libata-acpi: add ATA_FLAG_ACPI_SATA port flag
  * libata: fix shutdown warning message printing
  * libata: track spindown status and skip spindown_compat if possible
  * [ALSA] usb-audio: another Logitech QuickCam ID
  * [ALSA] hda-codec - Make the mixer capability check more robust
  * [ALSA] ASoC AC97 static GPL symbol fix
  * [ALSA] ASoC AC97 device reg bugfix
  * [ALSA] hda-codec - Fix ALC882/861VD codec support on some laptops
  * [ALSA] version 1.0.14rc4
  * [ALSA] Fix probe of non-PnP ISA devices
  * [ALSA] Include quirks from Ubuntu Dapper/Edgy/Feisty
  * [ALSA] usbaudio - Coping with short replies in usbmixer
  * [IA64] optimize pagefaults a little
  * Fix ACPI suspend / device suspend ordering problem
  * AFS: write back dirty data on unmount
  * SLUB: It is legit to allocate a slab of the maximum permitted size
  * slub: don't confuse ctor and dtor
  * AFS: Fix afs_prepare_write()
  * spi: fix spidev for >sizeof(long)/32 devices
  * parport_pc needs dma-mapping.h
  * Fix: find_or_create_page skips cpuset memory spreading.
  * slob: implement RCU freeing
  * Slab allocators: Drop support for destructors
  * SLUB: Remove depends on EXPERIMENTAL and !ARCH_USES_SLAB_PAGE_STRUCT
  * SLAB: Move two remaining SLAB specific definitions to slab_def.h
  * SLUB: Define functions for cpu slab handling instead of using
    PageActive
  * slab: warn on zero-length allocations
  * slub: fix handling of oversized slabs
  * SLUB: slabinfo fixes
  * SLUB: Do our own flags based on PG_active and PG_error
  * Remove SLAB_CTOR_CONSTRUCTOR
  * SLUB: Simplify debug code
  * Slab allocators: define common size limitations
  * acpi: fix potential call to a freed memory section.
  * i386/x86-64: fix section mismatch
  * Make __vunmap static
  * simplify compat_sys_timerfd
  * Let smp_call_function_single return -EBUSY on UP
  * Refine SCREEN_INFO sanity check for vgacon initialization
  * make freezeable workqueues singlethread
  * parport: mailing list is subscribers-only
  * docbook: make kernel-locking table readable
  * gpio interface loosens call restrictions
  * rtc-omap build fix
  * rtc kconfig clarification
  * icom: add new sub-device-id to support new adapter
  * make sysctl/kernel/core_pattern and fs/exec.c agree on maximum core
    filename size
  * ecryptfs: use zero_user_page
  * i386: don't check_pgt_cache in flush_tlb_mm
  * circular locking dependency found in QUOTA OFF
  * swsusp: fix sysfs interface
  * Fix page allocation flags in grow_dev_page()
  * mm: more rmap checking
  * NS16550A: Restore HS settings in EXCR2 on resume
  * Fix incorrect prototype for ipxrtr_route_packet()
  * sky2: remove Gigabyte 88e8056 restriction
  * sky2: PHY register settings
  * sky2: keep track of receive alloc failures
  * sky2: MIB counter overflow handling
  * sky2: remove dual port workaround
  * sky2: memory barriers change
  * small netdevices.txt fix
  * ibm_emac: fix section mismatch warnings
  * ibm_emac: improved PHY support
  * ibm_emac: fix link speed detection change
  * gianfar: Add I/O barriers when touching buffer descriptor ownership.
  * spidernet: node-aware skbuff allocation
  * NetXen: Fix NetXen driver ping on system-p
  * ixgb: don't print error if pci_enable_msi() fails, cleanup minor leak
  * e1000: Fix msi enable leak on error, don't print error message, cleanup
  * drivers/ata: remove the wildcard from sata_nv driver
  * sata_nv: fix fallout of devres conversion
  * libata: remove libata.spindown_compat
  * sata_via: pcim_iomap_regions() conversion missed BAR5

 -- Ben Collins <bcollins@ubuntu.com>  Thu, 17 May 2007 14:54:16 -0400

linux-source-2.6.22 (2.6.22-4.10) gutsy; urgency=low

  [Ben Collins]

  * Bump ABI
  * build/config: Disable obsolete tsdev driver.
  * build: Add tsdev to list of modules intentionally removed.
  * build/headers: Include *.lds files (fixes ia64 headers).
  * build/headers: Add arch/powerpc/include/asm symlink to get all headers.
  * build/module-check: Fix logic for printed messages.
  * build/maintainer: Use linux instead of upstream-linux for local diffs
  * build/config: Enable SLUB slab allocator (vs. SLAB).
  * build/config: Disable orinoco_nortel, use prefered hostap_plx
  * build/config: Disable ir-usb in favor of irda-usb
  * build/config: Disable sis5513(ide) in favor of pata_sis(libata)
  * build/config: Disable piix(ide) in favour of pata_oldpiix, ata_piix and
    pata_mpiix (libata)
  * build/config: Disable zaurus driver in favour of the cdc_ether driver
  * build/abi: Note a few modules intentionally removed.
  * build/config: Disable mxb and dpc7146 driver in favour of hexium_orion
  * build/config: Disable usbtest driver (for development only)
  * build/config: Disable keyspan driver in favour of keyspan_pda
  * build/abi: Add mxb and usbtest to list of removed modules.

  [Upstream Kernel Changes]

  * net: Trivial MLX4_DEBUG dependency fix.
  * mlx4_core: Remove unused doorbell_lock
  * [CPUFREQ] Support rev H AMD64s in powernow-k8
  * [CPUFREQ] powernow-k7: fix MHz rounding issue with perflib
  * [AGPGART] Fix wrong ID in via-agp.c
  * sh64: ROUND_UP macro cleanup in arch/sh64/kernel/pci_sh5.c
  * spelling fixes: arch/sh64/
  * sh64: Wire up many new syscalls.
  * sh64: Fixups for the irq_regs changes.
  * sh64: dma-mapping updates.
  * sh64: ppoll/pselect6() and restartable syscalls.
  * sh64: Fixup sh-sci build.
  * sh64: Update cayman defconfig.
  * sh64: generic quicklist support.
  * sh64: Add .gitignore entry for syscalltab.
  * IB/mlx4: Fix uninitialized spinlock for 32-bit archs
  * IB/ipath: Shadow the gpio_mask register
  * IB/ehca: Serialize hypervisor calls in ehca_register_mr()
  * IB/ehca: Correctly set GRH mask bit in ehca_modify_qp()
  * IB/ehca: Fix AQP0/1 QP number
  * IB/ehca: Remove _irqsave, move #ifdef
  * IB/ehca: Beautify sysfs attribute code and fix compiler warnings
  * IB/ehca: Disable scaling code by default, bump version number
  * RDMA/cma: Simplify device removal handling code
  * RDMA/cma: Fix synchronization with device removal in cma_iw_handler
  * RDMA/cma: Add check to validate that cm_id is bound to a device
  * IB/mthca: Fix posting >255 recv WRs for Tavor
  * IB/mthca: Set cleaned CQEs back to HW ownership when cleaning CQ
  * IPoIB/cm: Optimize stale connection detection
  * [CPUFREQ] Correct revision mask for powernow-k8
  * fix epoll single pass code and add wait-exclusive flag
  * epoll locks changes and cleanups
  * epoll: fix some comments
  * epoll: move kfree inside ep_free
  * nommu: add ioremap_page_range()
  * h8300 atomic.h update
  * alpha: fix hard_smp_processor_id compile error
  * m68k: implement __clear_user()
  * Remove cpu hotplug defines for __INIT & __INITDATA
  * i386: move common parts of smp into their own file
  * i386: fix voyager build
  * SLUB: CONFIG_LARGE_ALLOCS must consider MAX_ORDER limit
  * ll_rw_blk: fix gcc 4.2 warning on current_io_context()
  * pasemi_mac: Fix register defines
  * pasemi_mac: Interrupt ack fixes
  * pasemi_mac: Terminate PCI ID list
  * pasemi_mac: Fix local-mac-address parsing
  * smc911x: fix compilation breakage
  * ucc_geth: eliminate max-speed, change interface-type to
    phy-connection-type
  * pdc202xx_old: rewrite mode programming code (v2)
  * serverworks: PIO mode setup fixes
  * sis5513: PIO mode setup fixes
  * alim15x3: use ide_tune_dma()
  * pdc202xx_new: use ide_tune_dma()
  * ide: always disable DMA before tuning it
  * cs5530/sc1200: add ->udma_filter methods
  * ide: use ide_tune_dma() part #2
  * cs5530/sc1200: DMA support cleanup
  * cs5530/sc1200: add ->speedproc support
  * sl82c105: add speedproc() method and MWDMA0/1 support
  * ide: remove ide_dma_enable()
  * ide: add missing validity checks for identify words 62 and 63
  * ide: remove ide_use_dma()
  * sl82c105: Switch to ref counting API
  * Use menuconfig objects: IDE
  * x86: Fix discontigmem + non-HIGHMEM compile
  * missing mm.h in fw-ohci
  * missing dependencies for USB drivers in input
  * missing includes in mlx4
  * em28xx and ivtv should depend on PCI
  * rpadlpar breakage - fallout of struct subsystem removal
  * m32r: __xchg() should be always_inline
  * audit_match_signal() and friends are used only if CONFIG_AUDITSYSCALL
    is set
  * fix uml-x86_64
  * arm: walk_stacktrace() needs to be exported

 -- Ben Collins <bcollins@ubuntu.com>  Tue, 15 May 2007 10:13:23 -0400

linux-source-2.6.22 (2.6.22-3.9) gutsy; urgency=low

  * Fixup firmware-modules -> efi-modules in exclude files.

  [Ben Collins]

  * build/config: Enable CONFIG_TIMER_STATS
  * build/config: Disable CONFIG_IRQBALANCE, handled in userspace now
  * build: Update modules that have been deprecated
  * sparc64: Get some drivers compiling, till patches get upstream.
  * powerpc: Add 64-bit cmp op for 32-bit.
  * build/config: Disable apm_emu, pasemi_mac and cbe_cpufreq on ppc64
  * build/d-i(cjwatson): Rename firmware-modules to efi-modules

 -- Ben Collins <bcollins@ubuntu.com>  Fri, 11 May 2007 09:38:50 +0200

linux-source-2.6.22 (2.6.22-2.7) gutsy; urgency=low

  [Changes for 2.7]

  * Added some more modules going missing to ignore.
  * Disable ADB_PMU_LED on powerpc64. FTBFS.

  [Ben Collins]

  * XXX: Well, xen and rt got disabled in this upload. Hopefully things will
    get working again soon.

  * build: Add check for nrcpus on buildd's for CONCURRENCY_LEVEL
  * build: No longer provide ndiswrapper or ivtv modules (l-u-m does).
  * build/d-i: Remove firmware lists, since we no longer supply those udebs
  * build: Remove more firmware stuff
  * build/control: Build-dep on coreutils
  * Update configuration files
  * build/custom: Updated xen/rt patches and configs.
  * build: Make sure to use /bin/bash for headers_install
  * build: Add SHELL=/bin/bash to headers_install
  * Update configuration files
  * Bump ABI
  * Update module lists to match module name changes and merges.
  * build/rt: Trimmed down real-time patch from Alessio Igor Bogani.
  * Update configuration files
  * Update configuration files
  * build/rt: Fix typo in diff
  * Update configuration files
  * build: make explicit binary-headers target
  * Update configuration files
  * build/control-scripts: Remove debconf from pre-rm script
  * build/ia64: Compress and use vmlinuz for target install
  * build/config: Diable OSS i810_audio driver (Alsa driver prefered)
  * build/config: Disable OSS cs4232 driver (Alsa prefered)
  * build/config: Disable OSS via82xx driver (Alsa prefered)
  * build/config: Disable OSS trident driver (Alsa prefered)
  * build/config: Disable OSS Sound Blaster driver (Alsa prefered)
  * build/config: Disable IDE generic, ata_generic prefered
  * build/config: Disable siimage, pata_sil680 prefered
  * build/module-check: More robust module checking
  * build: Call module-check with perl, not $SHELL
  * Update configuration files
  * build: Fixup calling conventions of module-check
  * build: Add modules.ignore from 1.3 revision
  * build/config: Disable obsolete MOXA_SMARTIO in favor of new driver.
  * build/config: Disable orinoco_cs in favor of hostap_cs
  * build/config: Disable orinoco_pci in favor of hostap_pci
  * build/config: Disable orinoco_{plx,tmd} in favor of hostap_plx
  * build/config: Disable sk98lin in favor of skge
  * build: Add more modules intentionally removed since 1.3

 -- Ben Collins <bcollins@ubuntu.com>  Fri, 27 Apr 2007 09:04:29 -0400

linux-source-2.6.22 (2.6.22-1.3) gutsy; urgency=low

  [Ben Collins]

  * build: Only use bzip2 for linux-image, and pre-depend on proper dpkg

  [2.6.22-1.2]

  [Ben Collins]

  * build: Add build-arch target. FTBFS

  [2.6.22-1.1]

  [Ben Collins]

  * debian: New build system, from scratch
  * debian: Rename place holder so debian/stamps/ sticks around
  * debian: Create stamp-flavours at start of build (for build scripts)
  * debian/abi: Add revision 0.0 bootstrap module list.
  * debian: Fix backwards logic in module/abi checkers.
  * debian: Add arch= to vars.* files
  * Update configuration files
  * build: Added control scripts for images
  * build/config: Disable CONFIG_PARAVIRT for now
  * build/config: Enable CONFIG_FB_VESA
  * build: Take CONCURRENCY_LEVEL from env if it exists.
  * build: Do not print SHAs by default for changelog
  * build/config(i386): Disable NO_HZ on all but generic
  * build: Implement udeb rules
  * build/d-i: Remove speakup-modules udeb
  * build/udebs: Fix a couple trivial errors in the build.
  * build/config: Disable CONFIG_FB_IMSTT on powerpc64-smp (no NVRAM)
  * build/config: Disable some modules for ppc64 that don't use DMA API
  * build/config: Yet another module to disable on ppc64
  * build/tests: New test infrastructure
  * build: Special kernel build infrastructure
  * build: Fix typo from last commit
  * build/custom: Move custom files for each flavour into subdir.
  * build/config: Disable some drivers on sparc that don't support DMA API
  * build/sparc: Add new compress_file config, and use it for sparc
  * build: Fix typo in compress_file commit.
  * build/schedcfs: Update to v6 of the patch.
  * build: Fix control file generation for custom images
  * build: Correct message in link-headers
  * build: 2.6.21 is released, force our SUBLEVEL to .22
  * build/vars: kvm API is at 4, provide that.
  * build/custom: Allow custom builds to override things like build_image
  * build/custom: Fix type causing custom rules not to be included.
  * build/custom: Hello Xen 3.0.5
  * build/custom: Remove sched-cfs. Superseded in use by rt.
  * build/custom: Add 2.6.21-rt1 patch for -rt custom flavour
  * build/link-headers: Make sure to copy new files for custom

 -- Ben Collins <bcollins@ubuntu.com>  Fri, 27 Apr 2007 08:29:00 -0400
