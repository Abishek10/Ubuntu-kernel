linux-source-2.6.22 (2.6.22-6.12) UNRELEASED; urgency=low

  [Ben Collins]

  * Bump ABI
  * build/scripts: Remove all remnants of debconf from control scripts
  * build/config: Re-enable paravirt/vmi
  * build/config: Build ide-core as a module
  * i386/x86_64: Allow disabling the putstr's from compressed boot wrapper
  * PM: Do not require dev spew to get PM_DEBUG
  * RTC: Ratelimit "lost interrupts" message
  * UNUSUAL_DEV: Sync up some reported devices from Ubuntu
  * build/d-i: Include ide-core in storage-core udeb, not that it's modular
  * build/d-i: Make ide-modules depend on storage-code-modules
  * build/config: Enable CONFIG_TIMER_STATS on x86_64.

  [Colin Watson]

  * Move isofs to storage-core-modules udeb from fs-core-modules.

  [Upstream Kernel Changes]

  * Input: logips2pp - add type 72 (PS/2 TrackMan Marble)
  * Input: adbhid - do not access input_dev->private directly
  * sh: Shut up compiler warnings in __do_page_fault().
  * sh: Fix up psw build rules for r7780rp.
  * sh: Kill off pmb slab cache destructor.
  * sh: landisk: rtc-rs5c313 support.
  * sh: landisk: Header cleanups.
  * input: hp680_ts compile fixes.
  * [ARM] 4375/1: sharpsl_pm: Fix compile warnings
  * [ARM] 4376/1: Selects GENERIC_GPIO for ARCH_IXP4XX in Kconfig
  * [ARM] 4378/1: KS8695: Serial driver fix
  * [ARM] Remove Integrator/CP SMP platform support
  * [ARM] 4382/1: iop13xx: fix msi support
  * [ARM] 4383/1: iop: fix usage of '__init' and 'inline' in iop files
  * [ARM] 4384/1: S3C2412/13 SPI registers offset correction
  * [ARM] Update ARM syscalls
  * [ARM] Silence OMAP kernel configuration warning
  * [ARM] gic: Fix gic cascade irq handling
  * [ARM] integrator: fix pci_v3 compile error with DEBUG_LL
  * [ARM] ARMv6: add CPU_HAS_ASID configuration
  * [CRYPTO] padlock: Make CRYPTO_DEV_PADLOCK a tristate again
  * [CRYPTO] tcrypt: Add missing error check
  * eventfd use waitqueue lock ...
  * timerfd use waitqueue lock ...
  * [IA64] Fix bogus messages about system calls not implemented.
  * [IA64] Yet another section mismatch warning
  * Fix roundup_pow_of_two(1)
  * Further update of the i386 boot documentation
  * cciss: Fix pci_driver.shutdown while device is still active
  * Linux v2.6.22-rc2
  * [CRYPTO] api: Read module pointer before freeing algorithm
  * powerpc: Fix the MODALIAS generation in modpost for of devices
  * kbuild: include limits.h in sumversion.c for PATH_MAX
  * kconfig: search harder for curses library in check-lxdialog.sh
  * kbuild: make modpost section warnings clearer
  * kbuild: make better section mismatch reports on i386, arm and mips
  * kbuild: add "Section mismatch" warning whitelist for powerpc
  * all-archs: consolidate .text section definition in asm-generic
  * all-archs: consolidate .data section definition in asm-generic
  * kbuild: introduce __init_refok/__initdata_refok to supress section
    mismatch warnings
  * init/main: use __init_refok to fix section mismatch
  * mm: fix section mismatch warnings
  * mm/slab: fix section mismatch warning
  * IB/core: Free umem when mm is already gone
  * IB/ipath: Fix potential deadlock with multicast spinlocks
  * IB/core: Add helpers for uncached GID and P_Key searches
  * IB/core: Use start_port() and end_port()
  * IPoIB: Handle P_Key table reordering
  * IB/ehca: Return proper error code if register_mr fails
  * IB/mthca: Fix use-after-free on device restart
  * IB/mlx4: Fix check of max_qp_dest_rdma in modify QP
  * IB/mthca: Set GRH:HopLimit when building MLX headers
  * IB/mlx4: Set GRH:HopLimit when sending globally routed MADs
  * IB/mthca: Fix RESET to ERROR transition
  * IB/mlx4: Fix RESET to RESET and RESET to ERROR transitions
  * mlx4_core: Fix array overrun in dump_dev_cap_flags()
  * IB/mlx4: Fix check of opcode in mlx4_ib_post_send()
  * [IPV6]: Add ip6_tunnel.h to headers_install
  * [RFKILL]: Fix check for correct rfkill allocation
  * [NET]: Fix net/core/skbuff.c gcc-3.2.3 compilation error
  * [TCP] FRTO: Add missing ECN CWR sending to one of the responses
  * [TCP] FRTO: Prevent state inconsistency in corner cases
  * [IPSEC] pfkey: Load specific algorithm in pfkey_add rather than all
  * [NETFILTER]: nf_conntrack: fix use-after-free in helper destroy
    callback invocation
  * [NETFILTER]: nf_conntrack_ipv4: fix incorrect #ifdef config name
  * [IPV4]: icmp: fix crash with sysctl_icmp_errors_use_inbound_ifaddr
  * [NET]: Fix race condition about network device name allocation.
  * IB/mlx4: Pass send queue sizes from userspace to kernel
  * [ARM] 4387/1: fix /proc/cpuinfo formatting for pre-ARM7 parts
  * [ARM] 4388/1: no need for arm/mm mmap range checks for non-mmu
  * [ARM] 4395/1: S3C24XX: add include of <linux/sysdev.h> to relevant
    machines
  * [ARM] 4396/1: S3C2443: Add missing HCLK clocks
  * [ARM] 4397/1: S3C2443: remove SDI0/1 IRQ ambiguity
  * [ARM] 4398/1: S3C2443: Fix watchdog IRQ number
  * [ARM] 4399/2: S3C2443: Fix SMDK2443 nand timings
  * [ARM] 4400/1: S3C24XX: Add high-speed MMC device definition
  * [ARM] at91_adc parenthesis balance
  * [ARM] spelling fixes
  * IB/mlx4: Check if SRQ is full when posting receive
  * spelling fixes: arch/sh/
  * sh: revert addition of page fault notifiers
  * sh: Wire up signalfd/timerfd/eventfd syscalls.
  * sh: Fix up various compile warnings for SE boards.
  * sh: Fix page size alignment in __copy_user_page().
  * sh: Disable psw support for R7785RP.
  * fs: Kill sh dependency for binfmt_flat.
  * sh: disable genrtc support.
  * sh: sr.bl toggling around idle sleep.
  * sh: Wire up kdump crash kernel exec in die().
  * sh: Fix clock multiplier on SH7722.
  * sh: Fix dreamcast build for IRQ changes.
  * [S390] cio: Update documentation.
  * [S390] Wire up sys_utimensat.
  * [S390] Wire up signald, timerfd and eventfd syscalls.
  * [S390] Make use of kretprobe_assert.
  * [S390] More verbose show_mem() like other architectures.
  * Fix "fs: convert core functions to zero_user_page"
  * Detach sched.h from mm.h
  * Blackfin arch: Add Workaround for ANOMALY 05000257
  * Blackfin arch: add SPI MMC driver support on bf533-stamp, tested on
    STAMP-BF533
  * Blackfin arch: ISP1761 doesn't work for USB flash disk
  * Blackfin arch: fix a few random warnings
  * Blackfin arch: Add configuration data for ISP176x on BF561
  * Blackfin arch: mark a bunch of local functions as static
  * Blackfin arch: Fix reserved map after we changed PORT_H definition
  * Blackfin arch: Move write to VR_CTL closer to IDLE
  * Blackfin arch: DMA operation cleanup
  * Blackfin arch: GPIO fix some defines
  * Blackfin arch: fix trace output for FLAT binaries
  * Blackfin arch: Fix bug using usb keyboard crashes kernel
  * Blackfin arch: initial tepla-bf561 board support
  * Blackfin arch: make sure we declare the revid functions as pure (since
    they are)
  * Blackfin arch: dont clear status register bits in SWRST so we can
    actually use it
  * Blackfin arch: finish removing p* volatile defines for MMRs
  * Blackfin arch: move board specific setup out of common init code and
    into the board specific init code
  * Blackfin arch: issue reset via SWRST so we dont clobber the watchdog
    state
  * Blackfin arch: document why we have to touch the UART peripheral in our
    boot up code
  * Blackfin arch: dma_memcpy borken for > 64K
  * Blackfin arch: dont clear the bit that tells coreb to start booting
  * Blackfin arch: make sure we use local labels
  * Blackfin arch: update blackfin header files to latest one in VDSP.
  * Blackfin arch: cache SWRST value at bootup so other things like
    watchdog can non-destructively query it
  * Blackfin arch: fix signal handling bug
  * Blackfin arch: Change NO_ACCESS_CHECK to ACCESS_CHECK
  * Blackfin arch: add board default configs to blackfin arch
  * Blackfin arch: update defconfig files
  * Blackfin arch: update pm.c according to power management API change.
  * Blackfin serial driver: fix overhead issue
  * Blackfin serial driver: implement support for ignoring parity/break
    errors
  * Blackfin SPI: cleanup according to David Brownell's review
  * x86_64: Update defconfig
  * i386: Update defconfig
  * x86_64: Support x86_64 in make buildtar
  * i386: Fix K8/core2 oprofile on multiple CPUs
  * x86_64: Support gcc 5 properly
  * i386: Clear MCE flag on AMD K6
  * i386: Fix wrong CPU error message in early boot path
  * i386: Enable CX8/PGE CPUID bits early on VIA C3
  * x86_64: early_print kernel console should send CRLF not LFCR
  * x86_64: vsyscall time() fix
  * i386: fix PGE mask
  * LDM: Fix for Windows Vista dynamic disks
  * IB/ipoib: Fix typos in error messages
  * IPoIB/cm: Fix SRQ WR leak
  * IB/cm: Improve local id allocation
  * e1000: Don't enable polling in open() (was: e1000: assertion hit in
    e1000_clean(), kernel 2.6.21.1)
  * declance: Remove a dangling spin_unlock_irq() thingy
  * Add constant for FCS/CRC length (frame check sequence)
  * ahci: disable 64bit dma on sb600
  * libata: Add Seagate STT20000A to DMA blacklist.
  * pata_hpt366: Enable bits are unreliable so don't use them
  * ata_piix: clean up
  * libata: Kiss post_set_mode goodbye
  * libata: Trim trailing whitespace
  * partitions/LDM: build fix
  * Make 'headerscheck' stop immediately on an error
  * Fix headers check fallout
  * [POWERPC] Fix smp_call_function to be preempt-safe
  * [POWERPC] Add missing pmc_type fields in cpu_table
  * [POWERPC] Fix typo: MMCR0_PMA0 != MMCR0_PMAO
  * [POWERPC] Fix powerpc vmlinux.lds.S
  * [POWERPC] Fix warning in 32-bit builds with CONFIG_HIGHMEM
  * libertas: skb dereferenced after netif_rx
  * drivers/net/wireless/libertas/fw.c: fix use-before-check
  * drivers/net/wireless/libertas/rx.c: fix use-after-free
  * [IA64] Improve unwind checking.
  * [IA64] Only unwind non-running tasks.
  * [IA64] fix kmalloc(0) in arch/ia64/pci/pci.c
  * i2c: Legacy i2c drivers shouldn't issue uevents
  * i2c-tiny-usb: Fix truncated adapter name
  * i2c-s3c2410: Fix build warning
  * V4L/DVB (5639): Fix Kconfig dependencies for ivtv
  * V4L/DVB (5640): Fix: em28xx shouldn't be selecting VIDEO_BUF
  * V4L/DVB (5670): Adding new fields to v4l2_pix_format broke the ABI,
    reverted that change
  * V4L/DVB (5639a): Fix dst usage count
  * V4L/DVB (5630): Dvb-core: Handle failures to create devices
  * V4L/DVB (5680): Tuner-simple.c fix suport for SECAM with FI1216MF
  * V4L/DVB (5690): Cafe_ccic: Properly power down the sensor
  * V4L/DVB (5691): Ov7670: reset clkrc in rgb565 mode
  * [IPSEC]: Fix warnings with casting int to pointer
  * [AF_RXRPC]: AF_RXRPC depends on IPv4
  * [AF_RXRPC]: Make call state names available if CONFIG_PROC_FS=n
  * [RTNETLINK]: Allow changing of subsets of netdevice flags in
    rtnl_setlink
  * [RTNETLINK]: Remove remains of wireless extensions over rtnetlink
  * Input: iforce - fix force feedback not working
  * Input: iforce - minor clean-ups
  * Input: ALPS - force stream mode
  * Input: ucb1400_ts - use sched_setscheduler()
  * Input: ucb1x00-ts - remove commented out code
  * Input: input-polldev - add module info
  * Input: ads7846 - document that it handles tsc2046 too
  * Input: ads7846 - SPI_CPHA mode bugfix
  * USB: fix omninet memory leak found by coverity
  * USB: remove useless check in mos7840 found by coverity
  * usb-storage: ignore Sitecom WL-117 USB-WLAN
  * USB: fix more ftdi-elan/u132-hcd #include lossage
  * USB: handle more rndis_host oddities
  * USB: remove usb DocBook warnings
  * USB: address FIXME in usbnet w.r.t drivers claiming multiple interfaces
  * EHCI: fix problem with BIOS handoff
  * USB: more autosuspend timer stuff
  * USB: remove unneeded WARN_ON
  * USB: New device PID for ftdi_sio driver
  * USB: set the correct Interrupt interval in usb_bulk_msg
  * USB: fsl_usb2_udc: Fix UMTI_WIDE support and a compile warning
  * USB: auerswald: fix file release handler
  * USB: Remove duplicate IDs from option card driver
  * USB: Deref URB after usbmon is done with it
  * USB: remove short initial timeout for device descriptor fetch
  * USB: don't try to kzalloc 0 bytes
  * USB: Onetouch - switch to using input_dev->dev.parent
  * USB: Fix debug output of ark3116
  * USB: usblp: Use correct DMA address in case of probe error
  * USB: Fix USB OHCI Subvendor for Toshiba Portege 4000
  * USB: make the autosuspend workqueue thread freezable
  * USB: handle errors in power/level attribute
  * USB: fix ratelimit call semantics
  * USB: ftdi_sio: Add USB Product Id for OpenDCC
  * USB: ldusb bugfix
  * USB: Add support for Sierra Wireless Aircard 595U
  * USB: Add support for Olimex arm-usb-ocd JTAG interface serial port
  * IB/mlx4: Don't allocate RQ doorbell if using SRQ
  * [IA64] start_secondary() and smp_callin() should be __cpuinit
  * add the IDE device ID for ATI SB700
  * ide/pci/serverworks.c: Fix corruption/timeouts with MegaIDE
  * Add two missing chipsets to drivers/ide/ide-proc.c
  * Match DMA blacklist entries between ide-dma.c and libata-core.c
  * ide serverworks warning fixes
  * freezer: close potential race between refrigerator and thaw_tasks
  * freezer: fix vfork problem
  * freezer: take kernel_execve into consideration
  * freezer: fix kthread_create vs freezer theoretical race
  * freezer: fix PF_NOFREEZE vs freezeable race
  * freezer: move frozen_process() to kernel/power/process.c
  * Ignore bogus ACPI info for offline CPUs
  * SLUB Debug: Fix object size calculation
  * fuse: fix mknod of regular file
  * mpc52xx_psc_spi: fix it for CONFIG_PPC_MERGE
  * spi doc update: describe clock mode bits
  * NOHZ: Rate limit the local softirq pending warning output
  * genhd: expose AN to user space
  * genhd: send async notification on media change
  * capability.h warning fix
  * spi/spidev: check message size before copying
  * uml: improve PTRACE_SYSEMU checking
  * prohibit rcutorture from being compiled into the kernel
  * Documentation: fix the explanation of Kconfig files
  * Avoid zero size allocation in cache_k8_northbridges()
  * recalc_sigpending_tsk fixes
  * optimize compat_core_sys_select() by a using stack space for small fd
    sets
  * spi: potential memleak in spidev_ioctl
  * fbdev: cleanup of sparc FB options
  * pm2fb: RDAC_WR barriers clean up
  * pm3fb: various fixes
  * w100fb: fix compile warnings
  * ps3fb: use FB_SYS_* instead of FB_CFB_*
  * imxfb: remove ifdefs
  * imxfb: fix memory hole
  * Missing 'const' from reiserfs MIN_KEY declaration.
  * uselib: add missing MNT_NOEXEC check
  * fuse: generic_write_checks() for direct_io
  * fuse: delete inode on drop
  * fix unused setup_nr_node_ids
  * SLUB Debug: fix check for super sized slabs (>512k 64bit, >256k 32bit)
  * Char: cyclades, fix deadlock
  * simplify cleanup_workqueue_thread()
  * phantom: move to unlocked_ioctl
  * Misc: phantom, take care of pci posting
  * power: Fix sizeof(PAGE_SIZE) typo
  * update dontdiff file
  * signalfd: retrieve multiple signals with one read() call
  * i2o: destroy event queue only when drv->event is set
  * i2o: fix notifiers when max_drivers is configured
  * i2o: eliminate a peculiar constraint on i2o_max_drivers
  * i386, x86-64: show that CONFIG_HOTPLUG_CPU is required for suspend on
    SMP
  * md: avoid overflow in raid0 calculation with large components
  * md: don't write more than is required of the last page of a bitmap
  * md: fix bug with linear hot-add and elsewhere
  * documentation: Documentation/initrd.txt
  * HiSax: fix error checking for hisax_register()]
  * applesmc - sensors patch missing from 2.6.22-rc2
  * Off by one in floppy.c
  * eCryptfs: delay writing 0's after llseek until write
  * document clocksources
  * ehci-fsl: fix cache coherency problem on system with large memory
  * Prevent going idle with softirq pending
  * i386: fix early usage of atomic_add_return and local_add_return on real
    i386
  * Documentation/memory-barriers.txt: various fixes
  * omap_uwire: SPI_CPHA mode bugfix
  * capifunc warning fixes
  * drivers/isdn/hardware/eicon/message.c warning fixes
  * i386 bigsmp: section mismatch fixes
  * boot documentation: clarifications
  * mmc: clean up unused parts of block driver
  * mmc: mark unmaintained drivers
  * mmc: Add maintainers for TI OMAP MMC interface
  * mmc: add maintainer for iMX MMC interface
  * mmc: add maintainer for ARM Primecell controller
  * [CRYPTO] geode: Fix in-place operations and set key
  * [Bluetooth] Always send HCI_Reset for Broadcom devices
  * [Bluetooth] Fix L2CAP configuration parameter handling
  * NFS: Avoid a deadlock situation on write
  * NFS: Fix handful of compiler warnings in direct.c
  * NFS: Fix nfs_direct_dirty_pages()
  * Don't call a warnign a bug. It's a warning.
  * [IA64] Fix using uninitialized data in _PDC setup
  * [IA64] Cleanup acpi header to reuse the generic _PDC defines
  * Documentation: Fix up docs still talking about i_sem
  * [IA64] acpi_get_sysname() should be __init
  * IB/mlx4: Initialize send queue entry ownership bits
  * IB/ehca: Fix number of send WRs reported for new QP
  * IPoIB/cm: Fix timeout check in ipoib_cm_dev_stop()
  * IPoIB/cm: Drain cq in ipoib_cm_dev_stop()
  * ucc_geth: Fix MODULE_DEVICE_TABLE() duplication
  * ucc_geth:trivial fix
  * asix.c - Add Belkin F5D5055 ids
  * fix compiler warning in fixed.c
  * remove unnecessary dependency on VIA velocity config
  * meth driver renovation
  * spidernet: skb used after netif_receive_skb
  * chelsio parenthesis fix
  * forcedeth: fix cpu irq mask
  * [NET_SCHED]: Fix qdisc_restart return value when dequeue is empty
  * [IPV6]: Ignore ipv6 events on non-IPV6 capable devices.
  * [ATM]: Use mutex instead of binary semaphore in idt77252 driver.
  * [DCCP]: Use menuconfig objects.
  * [IPVS]: Use menuconfig objects.
  * [SCTP]: Use menuconfig objects.
  * [TIPC]: Use menuconfig objects.
  * [ARCNET]: Use menuconfig objects.
  * [TR]: Use menuconfig objects.
  * [RTNETLINK]: Fix sending netlink message when replace route.
  * [TIPC]: Fixed erroneous introduction of for_each_netdev
  * [DCCP]: Fix build warning when debugging is disabled.
  * [NET_SCHED]: sch_htb: fix event cache time calculation
  * [NETFILTER]: nf_conntrack_ftp: fix newline sequence number update
  * [NETFILTER]: nf_conntrack_ftp: fix newline sequence number calculation
  * [NETFILTER]: nf_conntrack_h323: fix ASN.1 types
  * [NETFILTER]: nf_conntrack_h323: fix get_h225_addr() for IPv6 address
    access
  * [NETFILTER]: nf_conntrack_h323: remove unnecessary process of
    Information signal
  * [NETFILTER]: nf_conntrack_h323: add missing T.120 address in OLCA
  * [NETFILTER]: nf_nat_h323: call set_h225_addr instead of
    set_h225_addr_hook
  * [NET]: "wrong timeout value" in sk_wait_data() v2
  * hpt3x2n: Correct revision boundary
  * pata_sis: Fix and clean up some timing setups
  * ata_piix: add short 40c quirk for Acer Aspire 2030, take #2
  * libata: don't consider 0xff as port empty if SStatus is available
  * libata: -ENODEV during prereset isn't an error
  * pata_via: Handle laptops via DMI
  * [CASSINI]: Check pci_set_mwi() return value.
  * [XFRM]: Allow packet drops during larval state resolution.
  * [libata] sata_promise: fix flags typo
  * [libata] sata_mv: add TODO list
  * Fix build failure for drivers/ata/pata_scc.c
  * libata: sata_sis fixes
  * [libata] Fix decoding of 6-byte commands
  * [libata] sata_via, pata_via: Add PCI IDs.
  * ocfs2: trylock in ocfs2_readpage()
  * ocfs2: unmap_mapping_range() in ocfs2_truncate()
  * ocfs2: use zero_user_page
  * ocfs2: fix inode leak
  * ocfs2: use generic_segment_checks
  * pata: Trivia
  * pata_hpt37x: Further improvements based on the IDE updates and vendor
    drivers
  * fix compat console unimap regression
  * Linux 2.6.22-rc3

 -- Ben Collins <bcollins@ubuntu.com>  Sat, 19 May 2007 10:48:20 -0400

linux-source-2.6.22 (2.6.22-5.11) gutsy; urgency=low

  [Ben Collins]

  * build/headers/ppc: Correct asm-ppc -> asm for arch symlink
  * build/headers/ia64: Fix find command line to correctly pull in *.lds
    files
  * Bump ABI

  [Upstream Kernel Changes]

  * [IA64] spelling fixes: arch/ia64/
  * [AVR32] Remove bogus comment in arch/avr32/kernel/irq.c
  * [AVR32] optimize pagefault path
  * [AVR32] Wire up signalfd, timerfd and eventfd
  * [IA64] wire up {signal,timer,event}fd syscalls
  * [IA64] kdump on INIT needs multi-nodes sync-up (v.2)
  * [IA64] s/scalibility/scalability/
  * [AVR32] Implement platform hooks for atmel_lcdfb driver
  * [IA64] Fix section conflict of ia64_mlogbuf_finish
  * [SPARC64]: Add hypervisor API negotiation and fix console bugs.
  * pata_scc had been missed by ata_std_prereset() switch
  * libata: separate out ata_dev_reread_id()
  * libata: during revalidation, check n_sectors after device is configured
  * libata-acpi: add ATA_FLAG_ACPI_SATA port flag
  * libata: fix shutdown warning message printing
  * libata: track spindown status and skip spindown_compat if possible
  * [ALSA] usb-audio: another Logitech QuickCam ID
  * [ALSA] hda-codec - Make the mixer capability check more robust
  * [ALSA] ASoC AC97 static GPL symbol fix
  * [ALSA] ASoC AC97 device reg bugfix
  * [ALSA] hda-codec - Fix ALC882/861VD codec support on some laptops
  * [ALSA] version 1.0.14rc4
  * [ALSA] Fix probe of non-PnP ISA devices
  * [ALSA] Include quirks from Ubuntu Dapper/Edgy/Feisty
  * [ALSA] usbaudio - Coping with short replies in usbmixer
  * [IA64] optimize pagefaults a little
  * Fix ACPI suspend / device suspend ordering problem
  * AFS: write back dirty data on unmount
  * SLUB: It is legit to allocate a slab of the maximum permitted size
  * slub: don't confuse ctor and dtor
  * AFS: Fix afs_prepare_write()
  * spi: fix spidev for >sizeof(long)/32 devices
  * parport_pc needs dma-mapping.h
  * Fix: find_or_create_page skips cpuset memory spreading.
  * slob: implement RCU freeing
  * Slab allocators: Drop support for destructors
  * SLUB: Remove depends on EXPERIMENTAL and !ARCH_USES_SLAB_PAGE_STRUCT
  * SLAB: Move two remaining SLAB specific definitions to slab_def.h
  * SLUB: Define functions for cpu slab handling instead of using
    PageActive
  * slab: warn on zero-length allocations
  * slub: fix handling of oversized slabs
  * SLUB: slabinfo fixes
  * SLUB: Do our own flags based on PG_active and PG_error
  * Remove SLAB_CTOR_CONSTRUCTOR
  * SLUB: Simplify debug code
  * Slab allocators: define common size limitations
  * acpi: fix potential call to a freed memory section.
  * i386/x86-64: fix section mismatch
  * Make __vunmap static
  * simplify compat_sys_timerfd
  * Let smp_call_function_single return -EBUSY on UP
  * Refine SCREEN_INFO sanity check for vgacon initialization
  * make freezeable workqueues singlethread
  * parport: mailing list is subscribers-only
  * docbook: make kernel-locking table readable
  * gpio interface loosens call restrictions
  * rtc-omap build fix
  * rtc kconfig clarification
  * icom: add new sub-device-id to support new adapter
  * make sysctl/kernel/core_pattern and fs/exec.c agree on maximum core
    filename size
  * ecryptfs: use zero_user_page
  * i386: don't check_pgt_cache in flush_tlb_mm
  * circular locking dependency found in QUOTA OFF
  * swsusp: fix sysfs interface
  * Fix page allocation flags in grow_dev_page()
  * mm: more rmap checking
  * NS16550A: Restore HS settings in EXCR2 on resume
  * Fix incorrect prototype for ipxrtr_route_packet()
  * sky2: remove Gigabyte 88e8056 restriction
  * sky2: PHY register settings
  * sky2: keep track of receive alloc failures
  * sky2: MIB counter overflow handling
  * sky2: remove dual port workaround
  * sky2: memory barriers change
  * small netdevices.txt fix
  * ibm_emac: fix section mismatch warnings
  * ibm_emac: improved PHY support
  * ibm_emac: fix link speed detection change
  * gianfar: Add I/O barriers when touching buffer descriptor ownership.
  * spidernet: node-aware skbuff allocation
  * NetXen: Fix NetXen driver ping on system-p
  * ixgb: don't print error if pci_enable_msi() fails, cleanup minor leak
  * e1000: Fix msi enable leak on error, don't print error message, cleanup
  * drivers/ata: remove the wildcard from sata_nv driver
  * sata_nv: fix fallout of devres conversion
  * libata: remove libata.spindown_compat
  * sata_via: pcim_iomap_regions() conversion missed BAR5

 -- Ben Collins <bcollins@ubuntu.com>  Thu, 17 May 2007 14:54:16 -0400

linux-source-2.6.22 (2.6.22-4.10) gutsy; urgency=low

  [Ben Collins]

  * Bump ABI
  * build/config: Disable obsolete tsdev driver.
  * build: Add tsdev to list of modules intentionally removed.
  * build/headers: Include *.lds files (fixes ia64 headers).
  * build/headers: Add arch/powerpc/include/asm symlink to get all headers.
  * build/module-check: Fix logic for printed messages.
  * build/maintainer: Use linux instead of upstream-linux for local diffs
  * build/config: Enable SLUB slab allocator (vs. SLAB).
  * build/config: Disable orinoco_nortel, use prefered hostap_plx
  * build/config: Disable ir-usb in favor of irda-usb
  * build/config: Disable sis5513(ide) in favor of pata_sis(libata)
  * build/config: Disable piix(ide) in favour of pata_oldpiix, ata_piix and
    pata_mpiix (libata)
  * build/config: Disable zaurus driver in favour of the cdc_ether driver
  * build/abi: Note a few modules intentionally removed.
  * build/config: Disable mxb and dpc7146 driver in favour of hexium_orion
  * build/config: Disable usbtest driver (for development only)
  * build/config: Disable keyspan driver in favour of keyspan_pda
  * build/abi: Add mxb and usbtest to list of removed modules.

  [Upstream Kernel Changes]

  * net: Trivial MLX4_DEBUG dependency fix.
  * mlx4_core: Remove unused doorbell_lock
  * [CPUFREQ] Support rev H AMD64s in powernow-k8
  * [CPUFREQ] powernow-k7: fix MHz rounding issue with perflib
  * [AGPGART] Fix wrong ID in via-agp.c
  * sh64: ROUND_UP macro cleanup in arch/sh64/kernel/pci_sh5.c
  * spelling fixes: arch/sh64/
  * sh64: Wire up many new syscalls.
  * sh64: Fixups for the irq_regs changes.
  * sh64: dma-mapping updates.
  * sh64: ppoll/pselect6() and restartable syscalls.
  * sh64: Fixup sh-sci build.
  * sh64: Update cayman defconfig.
  * sh64: generic quicklist support.
  * sh64: Add .gitignore entry for syscalltab.
  * IB/mlx4: Fix uninitialized spinlock for 32-bit archs
  * IB/ipath: Shadow the gpio_mask register
  * IB/ehca: Serialize hypervisor calls in ehca_register_mr()
  * IB/ehca: Correctly set GRH mask bit in ehca_modify_qp()
  * IB/ehca: Fix AQP0/1 QP number
  * IB/ehca: Remove _irqsave, move #ifdef
  * IB/ehca: Beautify sysfs attribute code and fix compiler warnings
  * IB/ehca: Disable scaling code by default, bump version number
  * RDMA/cma: Simplify device removal handling code
  * RDMA/cma: Fix synchronization with device removal in cma_iw_handler
  * RDMA/cma: Add check to validate that cm_id is bound to a device
  * IB/mthca: Fix posting >255 recv WRs for Tavor
  * IB/mthca: Set cleaned CQEs back to HW ownership when cleaning CQ
  * IPoIB/cm: Optimize stale connection detection
  * [CPUFREQ] Correct revision mask for powernow-k8
  * fix epoll single pass code and add wait-exclusive flag
  * epoll locks changes and cleanups
  * epoll: fix some comments
  * epoll: move kfree inside ep_free
  * nommu: add ioremap_page_range()
  * h8300 atomic.h update
  * alpha: fix hard_smp_processor_id compile error
  * m68k: implement __clear_user()
  * Remove cpu hotplug defines for __INIT & __INITDATA
  * i386: move common parts of smp into their own file
  * i386: fix voyager build
  * SLUB: CONFIG_LARGE_ALLOCS must consider MAX_ORDER limit
  * ll_rw_blk: fix gcc 4.2 warning on current_io_context()
  * pasemi_mac: Fix register defines
  * pasemi_mac: Interrupt ack fixes
  * pasemi_mac: Terminate PCI ID list
  * pasemi_mac: Fix local-mac-address parsing
  * smc911x: fix compilation breakage
  * ucc_geth: eliminate max-speed, change interface-type to
    phy-connection-type
  * pdc202xx_old: rewrite mode programming code (v2)
  * serverworks: PIO mode setup fixes
  * sis5513: PIO mode setup fixes
  * alim15x3: use ide_tune_dma()
  * pdc202xx_new: use ide_tune_dma()
  * ide: always disable DMA before tuning it
  * cs5530/sc1200: add ->udma_filter methods
  * ide: use ide_tune_dma() part #2
  * cs5530/sc1200: DMA support cleanup
  * cs5530/sc1200: add ->speedproc support
  * sl82c105: add speedproc() method and MWDMA0/1 support
  * ide: remove ide_dma_enable()
  * ide: add missing validity checks for identify words 62 and 63
  * ide: remove ide_use_dma()
  * sl82c105: Switch to ref counting API
  * Use menuconfig objects: IDE
  * x86: Fix discontigmem + non-HIGHMEM compile
  * missing mm.h in fw-ohci
  * missing dependencies for USB drivers in input
  * missing includes in mlx4
  * em28xx and ivtv should depend on PCI
  * rpadlpar breakage - fallout of struct subsystem removal
  * m32r: __xchg() should be always_inline
  * audit_match_signal() and friends are used only if CONFIG_AUDITSYSCALL
    is set
  * fix uml-x86_64
  * arm: walk_stacktrace() needs to be exported

 -- Ben Collins <bcollins@ubuntu.com>  Tue, 15 May 2007 10:13:23 -0400

linux-source-2.6.22 (2.6.22-3.9) gutsy; urgency=low

  * Fixup firmware-modules -> efi-modules in exclude files.

  [Ben Collins]

  * build/config: Enable CONFIG_TIMER_STATS
  * build/config: Disable CONFIG_IRQBALANCE, handled in userspace now
  * build: Update modules that have been deprecated
  * sparc64: Get some drivers compiling, till patches get upstream.
  * powerpc: Add 64-bit cmp op for 32-bit.
  * build/config: Disable apm_emu, pasemi_mac and cbe_cpufreq on ppc64
  * build/d-i(cjwatson): Rename firmware-modules to efi-modules

 -- Ben Collins <bcollins@ubuntu.com>  Fri, 11 May 2007 09:38:50 +0200

linux-source-2.6.22 (2.6.22-2.7) gutsy; urgency=low

  [Changes for 2.7]

  * Added some more modules going missing to ignore.
  * Disable ADB_PMU_LED on powerpc64. FTBFS.

  [Ben Collins]

  * XXX: Well, xen and rt got disabled in this upload. Hopefully things will
    get working again soon.

  * build: Add check for nrcpus on buildd's for CONCURRENCY_LEVEL
  * build: No longer provide ndiswrapper or ivtv modules (l-u-m does).
  * build/d-i: Remove firmware lists, since we no longer supply those udebs
  * build: Remove more firmware stuff
  * build/control: Build-dep on coreutils
  * Update configuration files
  * build/custom: Updated xen/rt patches and configs.
  * build: Make sure to use /bin/bash for headers_install
  * build: Add SHELL=/bin/bash to headers_install
  * Update configuration files
  * Bump ABI
  * Update module lists to match module name changes and merges.
  * build/rt: Trimmed down real-time patch from Alessio Igor Bogani.
  * Update configuration files
  * Update configuration files
  * build/rt: Fix typo in diff
  * Update configuration files
  * build: make explicit binary-headers target
  * Update configuration files
  * build/control-scripts: Remove debconf from pre-rm script
  * build/ia64: Compress and use vmlinuz for target install
  * build/config: Diable OSS i810_audio driver (Alsa driver prefered)
  * build/config: Disable OSS cs4232 driver (Alsa prefered)
  * build/config: Disable OSS via82xx driver (Alsa prefered)
  * build/config: Disable OSS trident driver (Alsa prefered)
  * build/config: Disable OSS Sound Blaster driver (Alsa prefered)
  * build/config: Disable IDE generic, ata_generic prefered
  * build/config: Disable siimage, pata_sil680 prefered
  * build/module-check: More robust module checking
  * build: Call module-check with perl, not $SHELL
  * Update configuration files
  * build: Fixup calling conventions of module-check
  * build: Add modules.ignore from 1.3 revision
  * build/config: Disable obsolete MOXA_SMARTIO in favor of new driver.
  * build/config: Disable orinoco_cs in favor of hostap_cs
  * build/config: Disable orinoco_pci in favor of hostap_pci
  * build/config: Disable orinoco_{plx,tmd} in favor of hostap_plx
  * build/config: Disable sk98lin in favor of skge
  * build: Add more modules intentionally removed since 1.3

 -- Ben Collins <bcollins@ubuntu.com>  Fri, 27 Apr 2007 09:04:29 -0400

linux-source-2.6.22 (2.6.22-1.3) gutsy; urgency=low

  [Ben Collins]

  * build: Only use bzip2 for linux-image, and pre-depend on proper dpkg

  [2.6.22-1.2]

  [Ben Collins]

  * build: Add build-arch target. FTBFS

  [2.6.22-1.1]

  [Ben Collins]

  * debian: New build system, from scratch
  * debian: Rename place holder so debian/stamps/ sticks around
  * debian: Create stamp-flavours at start of build (for build scripts)
  * debian/abi: Add revision 0.0 bootstrap module list.
  * debian: Fix backwards logic in module/abi checkers.
  * debian: Add arch= to vars.* files
  * Update configuration files
  * build: Added control scripts for images
  * build/config: Disable CONFIG_PARAVIRT for now
  * build/config: Enable CONFIG_FB_VESA
  * build: Take CONCURRENCY_LEVEL from env if it exists.
  * build: Do not print SHAs by default for changelog
  * build/config(i386): Disable NO_HZ on all but generic
  * build: Implement udeb rules
  * build/d-i: Remove speakup-modules udeb
  * build/udebs: Fix a couple trivial errors in the build.
  * build/config: Disable CONFIG_FB_IMSTT on powerpc64-smp (no NVRAM)
  * build/config: Disable some modules for ppc64 that don't use DMA API
  * build/config: Yet another module to disable on ppc64
  * build/tests: New test infrastructure
  * build: Special kernel build infrastructure
  * build: Fix typo from last commit
  * build/custom: Move custom files for each flavour into subdir.
  * build/config: Disable some drivers on sparc that don't support DMA API
  * build/sparc: Add new compress_file config, and use it for sparc
  * build: Fix typo in compress_file commit.
  * build/schedcfs: Update to v6 of the patch.
  * build: Fix control file generation for custom images
  * build: Correct message in link-headers
  * build: 2.6.21 is released, force our SUBLEVEL to .22
  * build/vars: kvm API is at 4, provide that.
  * build/custom: Allow custom builds to override things like build_image
  * build/custom: Fix type causing custom rules not to be included.
  * build/custom: Hello Xen 3.0.5
  * build/custom: Remove sched-cfs. Superseded in use by rt.
  * build/custom: Add 2.6.21-rt1 patch for -rt custom flavour
  * build/link-headers: Make sure to copy new files for custom

 -- Ben Collins <bcollins@ubuntu.com>  Fri, 27 Apr 2007 08:29:00 -0400
