linux (2.6.24-4.7) hardy; urgency=low

  [Amit Kucheria]

  * Poulsbo: Add SD8686 and 8688 WLAN drivers
  * Poulsbo: Mass update of patches to be identical to those on moblin
  * SAUCE: make fc transport removal of target configurable OriginalAuthor:
    Michael Reed <mdr <at> sgi.com> OriginalLocation:
    http://thread.gmane.org/gmane.linux.scsi/25318 Bug: 163075

  [Fabio M. Di Nitto]

  * Fix handling of gcc-4.1 for powerpc and ia64

  [Tim Gardner]

  * Re-engineered architecture specific linux-headers compiler version
    dependencies.
  * Doh! Changed header-depends to header_depends.

 -- Tim Gardner <tim.gardner@canonical.com>  Fri, 11 Jan 2008 07:10:46 -0700

linux (2.6.24-4.6) hardy; urgency=low

  [Alessio Igor Bogani]

  * Fix -rt build FTBS.

  [Amit Kucheria]

  * LPIACOMPAT: Update thermal patches to be inline with lpia flavour
  * Poulsbo: Add USB Controller patch and corresponding config change

  [Fabio M. Di Nitto]

  * Enable aoe and nbd modules on hppa Ignore: yes
  * Fix ia64 build by using gcc-4.1

  [Tim Gardner]

  * Enable JFFS2 LZO compression.
    - LP: #178343
  * Remove IS_G33 special handling.
    - LP: #174367
  * Enabled CONFIG_SECURITY_CAPABILITIES and
    CONFIG_SECURITY_FILE_CAPABILITIES
    - LP: #95089
  * Enabled CONFIG_TASKSTATS and CONFIG_TASK_IO_ACCOUNTING
  * Turned CONFIG_SECURITY_FILE_CAPABILITIES back off.
  * Enabled CONFIG_B43LEGACY=m
  * Enabled CONFIG_SCSI_QLOGIC_1280=m
  * Enabled CONFIG_FUSION=y for virtual
  * USB bluetooth device 0x0e5e:0x6622 floods errors to syslog
    - LP: #152689
  * Removed lpia from d-i.
  * Added ia64 modules.
  * Added hppa32/64 modules.

  [Upstream Kernel Changes]

  * DMI autoload dcdbas on all Dell systems.
  * sched: fix gcc warnings
  * leds: Fix leds_list_lock locking issues
  * leds: Fix locomo LED driver oops
  * x86: fix asm-x86/byteorder.h for userspace export
  * x86: fix asm-x86/msr.h for user-space export
  * fix lguest rmmod "bad pgd"
  * slub: provide /proc/slabinfo
  * [POWERPC] Fix build failure on Cell when CONFIG_SPU_FS=y
  * slub: register slabinfo to procfs
  * [SCSI] scsi_sysfs: restore prep_fn when ULD is removed
  * Unify /proc/slabinfo configuration
  * scsi: revert "[SCSI] Get rid of scsi_cmnd->done"
  * restrict reading from /proc/<pid>/maps to those who share ->mm or can
    ptrace pid
  * Fix kernel/ptrace.c compile problem (missing "may_attach()")
  * hwmon: (w83627ehf) Be more careful when changing VID input level
  * NFS: Fix a possible Oops in fs/nfs/super.c
  * NFSv4: Fix circular locking dependency in nfs4_kill_renewd
  * NFS: add newline to kernel warning message in auth_gss code
  * NFSv4: nfs4_open_confirm must not set the open_owner as confirmed on
    error
  * NFSv4: Fix open_to_lock_owner sequenceid allocation...
  * IB/srp: Fix list corruption/oops on module reload
  * Console is utf-8 by default
  * [IA64] Update Altix BTE error return status patch
  * [IA64] Update Altix nofault code
  * [X25]: Add missing x25_neigh_put
  * [XFRM]: Do not define km_migrate() if !CONFIG_XFRM_MIGRATE
  * [CASSINI]: Fix endianness bug.
  * [CASSINI]: Revert 'dont touch page_count'.
  * [CASSINI]: Program parent Intel31154 bridge when necessary.
  * [CASSINI]: Set skb->truesize properly on receive packets.
  * [CASSINI]: Fix two obvious NAPI bugs.
  * [CASSINI]: Bump driver version and release date.
  * [INET]: Fix netdev renaming and inet address labels
  * [CONNECTOR]: Return proper error code in cn_call_callback()
  * [ISDN] i4l: 'NO CARRIER' message lost after ldisc flush
  * [ISDN]: i4l: Fix DLE handling for i4l-audio
  * fix: using joysticks in 32 bit applications on 64 bit systems
  * hda_intel suspend latency: shorten codec read
  * CPU hotplug: fix cpu_is_offline() on !CONFIG_HOTPLUG_CPU
  * Linux 2.6.24-rc7
  * PIE executable randomization (upstream cherry pick by kees)

 -- Tim Gardner <tim.gardner@canonical.com>  Fri, 04 Jan 2008 07:15:47 -0700

linux (2.6.24-3.5) hardy; urgency=low

  [Alessio Igor Bogani]

  * rt: Fix rt preempt patchset version
  * Updated README file for binary custom flavours
  * Fix -rt build FTBS.
  * rt: Update configuration files

  [Tim Gardner]

  * SAUCE: Add extra headers to linux-libc-dev

  [Upstream Kernel Changes]

  * [WATCHDOG] at32ap700x_wdt: add support for boot status and add fix for
    silicon errata
  * [WATCHDOG] Stop looking for device as soon as one is found
  * [WATCHDOG] bfin_wdt, remove SPIN_LOCK_UNLOCKED
  * [WATCHDOG] Sbus: cpwatchdog, remove SPIN_LOCK_UNLOCKED
  * [WATCHDOG] IT8212F watchdog driver
  * ACPI: acpiphp: Remove dmesg spam on device remove
  * [WATCHDOG] ipmi: add the standard watchdog timeout ioctls
  * [WATCHDOG] add Nano 7240 driver
  * ACPI: battery: fix ACPI battery technology reporting
  * [ARM] 4667/1: CM-X270 fixes
  * [ARM] 4690/1: PXA: fix CKEN corruption in PXA27x AC97 cold reset code
  * [IPV6] XFRM: Fix auditing rt6i_flags; use RTF_xxx flags instead of
    RTCF_xxx.
  * [IPV4]: Swap the ifa allocation with the"ipv4_devconf_setall" call
  * [IPv4] ESP: Discard dummy packets introduced in rfc4303
  * [IPv6] ESP: Discard dummy packets introduced in rfc4303
  * [UM]: Fix use of skb after netif_rx
  * [XTENSA]: Fix use of skb after netif_rx
  * [S390]: Fix use of skb after netif_rx
  * [BNX2]: Add PHY_DIS_EARLY_DAC workaround.
  * [BNX2]: Fix RX packet rot.
  * [BNX2]: Update version to 1.6.9.
  * [NET]: Fix wrong comments for unregister_net*
  * [VLAN]: Fix potential race in vlan_cleanup_module vs
    vlan_ioctl_handler.
  * [IPSEC]: Fix potential dst leak in xfrm_lookup
  * V4L/DVB (6485): ivtv: fix compile warning
  * V4L/DVB (6540): em28xx: fix failing autodetection after the reboot
  * V4L/DVB (6542): Fix S-video mode on tvp5150
  * V4L/DVB (6579): Fix bug #8824: Correct support for Diseqc on tda10086
  * V4L/DVB (6581): Fix: avoids negative vma usage count
  * V4L/DVB (6601): V4L: videobuf-core locking fixes and comments
  * V4L/DVB (6602): V4L: Convert videobuf drivers to videobuf_stop
  * V4L/DVB (6615): V4L: Fix  VIDIOCGMBUF locking in saa7146
  * V4L/DVB (6629): zl10353: fix default adc_clock and TRL nominal rate
    calculation
  * V4L/DVB (6666): saa7134-alsa: fix period handling
  * V4L/DVB (6684): Complement va_start() with va_end() + style fixes
  * V4L/DVB (6686): saa7134: fix composite over s-video input on the Tevion
    MD 9717
  * V4L/DVB (6690): saa7134: fix ignored interrupts
  * V4L/DVB (6751): V4L: Memory leak!  Fix count in videobuf-vmalloc mmap
  * V4L/DVB (6746): saa7134-dvb: fix tuning for WinTV HVR-1110
  * V4L/DVB (6750): Fix in-kernel compilation for cxusb
  * V4L/DVB (6733): DVB: Compile 3000MC-specific DIB code only for
    CONFIG_DVB_DIB3000MC
  * V4L/DVB (6794): Fix compilation when dib3000mc is compiled as a module
  * NFS: Fix NFS mountpoint crossing...
  * V4L/DVB (6796): ivtv/ section fix
  * V4L/DVB (6797): bt8xx/ section fixes
  * NFSv2/v3: Fix a memory leak when using -onolock
  * V4L/DVB (6609): Re-adds lock safe videobuf_read_start
  * i2c: Delete an outdated piece of documentation
  * i2c-gpio: Initialize adapter class
  * i2c: Add missing spaces in split log messages
  * i2c/isp1301_omap: Build fix
  * [SERIAL] sparc: Infrastructure to fix section mismatch bugs.
  * NFS: Fix an Oops in NFS unmount
  * sdhci: describe quirks
  * sdhci: don't warn about sdhci 2.0 controllers
  * sdhci: use PIO when DMA can't satisfy the request
  * sdhci: support JMicron JMB38x chips
  * mmc: remove unused 'mode' from the mmc_host structure
  * IB/ehca: Return correct number of SGEs for SRQ
  * IB/ehca: Serialize HCA-related hCalls if necessary
  * ide-scsi: add ide_scsi_hex_dump() helper
  * ide: add missing checks for control register existence
  * ide: deprecate CONFIG_BLK_DEV_OFFBOARD
  * ide: fix ide_scan_pcibus() error message
  * ide: coding style fixes for drivers/ide/setup-pci.c
  * ide: add /sys/bus/ide/devices/*/{model,firmware,serial} sysfs entries
  * ide: DMA reporting and validity checking fixes (take 3)
  * ide-cd: remove dead post_transform_command()
  * pdc202xx_new: fix Promise TX4 support
  * hpt366: fix HPT37x PIO mode timings (take 2)
  * ide: remove dead code from __ide_dma_test_irq()
  * ide: remove stale changelog from ide-disk.c
  * ide: remove stale changelog from ide-probe.c
  * ide: fix ->io_32bit race in set_io_32bit()
  * MAINTAINERS: update the NFS CLIENT entry
  * V4L/DVB (6803): buf-core.c locking fixes
  * [SPARC64]: Fix two kernel linear mapping setup bugs.
  * IB/ehca: Fix lock flag variable location, bump version number
  * kbuild: re-enable Makefile generation in a new O=... directory
  * V4L/DVB (6798): saa7134: enable LNA in analog mode for Hauppauge WinTV
    HVR-1110
  * V4L/DVB (6814): Makefile: always enter video/
  * V4L/DVB (6819): i2c: fix drivers/media/video/bt866.c
  * V4L/DVB (6820): s5h1409: QAM SNR related fixes
  * ACPI: video_device_list corruption
  * ACPI: fix modpost warnings
  * ACPI: thinkpad-acpi: fix lenovo keymap for brightness
  * Pull thinkpad-2.6.24 into release branch
  * Pull battery-2.6.24 into release branch
  * [POWERPC] Fix typo #ifdef -> #ifndef
  * [POWERPC] Kill non-existent symbols from ksyms and commproc.h
  * [POWRPC] CPM2: Eliminate section mismatch warning in cpm2_reset().
  * [POWERPC] 82xx: mpc8272ads, pq2fads: Update defconfig with
    CONFIG_FS_ENET_MDIO_FCC
  * [POWERPC] iSeries: don't printk with HV spinlock held
  * [POWERPC] Fix rounding bug in emulation for double float operating
  * [POWERPC] Make PS3_SYS_MANAGER default y, not m
  * [MIPS] time: Set up Cobalt's mips_hpt_frequency
  * [MIPS] Alchemy: fix PCI resource conflict
  * [MIPS] Alchemy: fix off by two error in __fixup_bigphys_addr()
  * [MIPS] Atlas, Malta: Don't free firmware memory on free_initmem.
  * [MIPS] PCI: Make pcibios_fixup_device_resources ignore legacy
    resources.
  * [MIPS] time: Delete weak definition of plat_time_init() due to gcc bug.
  * [MIPS] Ensure that ST0_FR is never set on a 32 bit kernel
  * [SPARC32]: Silence sparc32 warnings on missing syscalls.
  * Pull hotplug into release branch
  * ACPI: SBS: Reset alarm bit
  * ACPI: SBS: Ignore alarms coming from unknown devices
  * ACPI: SBS: Return rate in mW if capacity in mWh
  * Pull bugzilla-9362 into release branch
  * sky2: RX lockup fix
  * sundance fixes
  * starfire VLAN fix
  * e100: free IRQ to remove warningwhenrebooting
  * hamachi endianness fixes
  * drivers/net/sis190.c section fix
  * drivers/net/s2io.c section fixes
  * ucc_geth: minor whitespace fix
  * net: smc911x: shut up compiler warnings
  * Net: ibm_newemac, remove SPIN_LOCK_UNLOCKED
  * ixgb: make sure jumbos stay enabled after reset
  * [NETFILTER]: ctnetlink: set expected bit for related conntracks
  * [NETFILTER]: ip_tables: fix compat copy race
  * [XFRM]: Display the audited SPI value in host byte order.
  * [NETFILTER]: xt_hashlimit should use time_after_eq()
  * [TIPC]: Fix semaphore handling.
  * [SYNCPPP]: Endianness and 64bit fixes.
  * [NETFILTER]: bridge: fix missing link layer headers on outgoing routed
    packets
  * [ATM]: Fix compiler warning noise with FORE200E driver
  * [IPV4]: Updates to nfsroot documentation
  * [BRIDGE]: Assign random address.
  * [IPV6]: Fix the return value of ipv6_getsockopt
  * [IPV4]: Make tcp_input_metrics() get minimum RTO via tcp_rto_min()
  * [AX25]: Locking dependencies fix in ax25_disconnect().
  * [SCTP]: Flush fragment queue when exiting partial delivery.
  * [IRDA]: Race between open and disconnect in irda-usb.
  * [IRDA]: mcs7780 needs to free allocated rx buffer.
  * [IRDA]: irlmp_unregister_link() needs to free lsaps.
  * [IRDA]: stir4200 fixes.
  * [IRDA]: irda parameters warning fixes.
  * [S390] pud_present/pmd_present bug.
  * [ARM] 4710/1: Fix coprocessor 14 usage for debug messages via ICEDCC
  * [ARM] 4694/1: IXP4xx: Update clockevent support for shutdown and resume
  * kobject: fix the documentation of how kobject_set_name works
  * tipar: remove obsolete module
  * HOWTO: Change man-page maintainer address for Japanese HOWTO
  * Add Documentation for FAIR_USER_SCHED sysfs files
  * HOWTO: change addresses of maintainer and lxr url for Korean HOWTO
  * add stable_api_nonsense.txt in korean
  * HOWTO: update misspelling and word incorrected
  * PCI: Restore PCI expansion ROM P2P prefetch window creation
  * USB: sierra: fix product id
  * usb-storage: Fix devices that cannot handle 32k transfers
  * USB: cp2101: new device id
  * USB: option: Bind to the correct interface of the Huawei E220
  * usb.h: fix kernel-doc warning
  * USB: fix locking loop by avoiding flush_scheduled_work
  * USB: use IRQF_DISABLED for HCD interrupt handlers
  * USB: at91_udc: correct hanging while disconnecting usb cable
  * usb: Remove broken optimisation in OHCI IRQ handler
  * USB: revert portions of "UNUSUAL_DEV: Sync up some reported devices
    from Ubuntu"
  * ocfs2: fix exit-while-locked bug in ocfs2_queue_orphans()
  * ocfs2: Don't panic when truncating an empty extent
  * ocfs2: Allow for debugging of transaction extends
  * ocfs2: Re-journal buffers after transaction extend
  * pcnet_cs: add new id
  * ucc_geth: really fix section mismatch
  * sis190 endianness
  * libertas: add Dan Williams as maintainer
  * zd1211rw: Fix alignment problems
  * wireless/ipw2200.c: add __dev{init,exit} annotations
  * ieee80211_rate: missed unlock
  * iwlwifi3945/4965: fix rate control algo reference leak
  * libertas: select WIRELESS_EXT
  * bcm43xx_debugfs sscanf fix
  * b43: Fix rfkill radio LED
  * iwlwifi: fix rf_kill state inconsistent during suspend and resume
  * sata_sil: fix spurious IRQ handling
  * libata: clear link->eh_info.serror from ata_std_postreset()
  * libata: add ST3160023AS / 3.42 to NCQ blacklist
  * sata_mv: improve warnings about Highpoint RocketRAID 23xx cards
  * libata-acpi: adjust constness in ata_acpi_gtm/stm() parameters
  * libata: update ata_*_printk() macros such that level can be a variable
  * libata: add more opcodes to ata.h
  * libata: ata_dev_disable() should be called from EH context
  * libata-acpi: add new hooks ata_acpi_dissociate() and
    ata_acpi_on_disable()
  * libata-acpi: implement and use ata_acpi_init_gtm()
  * libata-acpi: implement dev->gtf_cache and evaluate _GTF right after
    _STM during resume
  * libata-acpi: improve ACPI disabling
  * libata-acpi: improve _GTF execution error handling and reporting
  * libata-acpi: implement _GTF command filtering
  * libata: update atapi_eh_request_sense() such that lbam/lbah contains
    buffer size
  * libata: fix ATAPI draining
  * fix headers_install
  * revert "Hibernation: Use temporary page tables for kernel text mapping
    on x86_64"
  * uml: stop gdb from deleting breakpoints when running UML
  * alpha: strncpy/strncat fixes
  * rtc-at32ap700x: fix irq init oops
  * parport: "dev->timeslice" is an unsigned long, not an int
  * ecryptfs: initialize new auth_tokens before teardown
  * Fix lguest documentation
  * sparsemem: make SPARSEMEM_VMEMMAP selectable
  * fs/Kconfig: grammar fix
  * ext3, ext4: avoid divide by zero
  * alpha: build fixes
  * cpufreq: fix missing unlocks in cpufreq_add_dev error paths.
  * mm/sparse.c: check the return value of sparse_index_alloc()
  * mm/sparse.c: improve the error handling for sparse_add_one_section()
  * pktcdvd: add kobject_put when kobject register fails
  * drivers/macintosh/via-pmu.c: Added a missing iounmap
  * drivers/cpufreq/cpufreq_stats.c section fix
  * apm_event{,info}_t are userspace types
  * mm: fix page allocation for larger I/O segments
  * ecryptfs: set s_blocksize from lower fs in sb
  * I/OAT: fixups from code comments
  * I/OAT: fix null device in call to dev_err()
  * fix bloat-o-meter for ppc64
  * ecryptfs: fix fsx data corruption problems
  * Documentation: update hugetlb information
  * Fix compilation warning in dquot.c
  * SLUB: remove useless masking of GFP_ZERO
  * quicklist: Set tlb->need_flush if pages are remaining in quicklist 0
  * sysctl: fix ax25 checks
  * [XFS] Don't wait for pending I/Os when purging blocks beyond eof.
  * [XFS] Put the correct offset in dirent d_off
  * block: use jiffies conversion functions in scsi_ioctl.c
  * as-iosched: fix incorrect comments
  * as-iosched: fix write batch start point
  * block: let elv_register() return void
  * Cleanup umem driver: fix most checkpatch warnings, conform to kernel
  * sched: fix crash on ia64, introduce task_current()
  * sched: mark rwsem functions as __sched for wchan/profiling
  * sched: sysctl, proc_dointvec_minmax() expects int values for
  * sched: touch softlockup watchdog after idling
  * sched: do not hurt SCHED_BATCH on wakeup
  * oprofile: op_model_athlon.c support for AMD family 10h barcelona
    performance counters
  * clockevents: fix reprogramming decision in oneshot broadcast
  * genirq: add unlocked version of set_irq_handler()
  * timer: kernel/timer.c section fixes
  * x86: jprobe bugfix
  * x86: kprobes bugfix
  * x86: also define AT_VECTOR_SIZE_ARCH
  * genirq: revert lazy irq disable for simple irqs
  * x86: fix "Kernel panic - not syncing: IO-APIC + timer doesn't work!"
  * [SCSI] sym53c8xx: fix free_irq() regression
  * [SCSI] dpt_i2o: driver is only 32 bit so don't set 64 bit DMA mask
  * [SCSI] sym53c8xx: fix "irq X: nobody cared" regression
  * [SCSI] initio: fix conflict when loading driver
  * [SCSI] st: fix kernel BUG at include/linux/scatterlist.h:59!
  * [SCSI] initio: bugfix for accessors patch
  * IA64: Slim down __clear_bit_unlock
  * [IA64] signal: remove redundant code in setup_sigcontext()
  * [IA64] ia32 nopage
  * [IA64] Avoid unnecessary TLB flushes when allocating memory
  * [IA64] Two trivial spelling fixes
  * [IA64] print kernel release in OOPS to make kerneloops.org happy
  * [IA64] set_thread_area fails in IA32 chroot
  * [IA64] Remove compiler warinings about uninitialized variable in
    irq_ia64.c
  * [IA64] Remove assembler warnings on head.S
  * [IA64] Fix Altix BTE error return status
  * [IA64] Guard elfcorehdr_addr with #if CONFIG_PROC_FS
  * [IA64] make flush_tlb_kernel_range() an inline function
  * [IA64] Adjust CMCI mask on CPU hotplug
  * Do dirty page accounting when removing a page from the page cache
  * x86 apic_32.c section fix
  * x86 smpboot_32.c section fixes
  * x86_32: select_idle_routine() must be __cpuinit
  * x86_32: disable_pse must be __cpuinitdata
  * x86: fix show cpuinfo cpu number always zero
  * ps3fb: Update for firmware 2.10
  * ps3fb: Fix ps3fb free_irq() dev_id
  * pata_hpt37x: Fix HPT374 detection
  * mac80211: Drop out of associated state if link is lost
  * mac80211: fix header ops
  * NET: mac80211: fix inappropriate memory freeing
  * [TG3]: Endianness annotations.
  * [TG3]: Endianness bugfix.
  * rtl8187: Add USB ID for Sitecom WL-168 v1 001
  * p54: add Kconfig description
  * iwlwifi: fix possible priv->mutex deadlock during suspend
  * ipw2200: prevent alloc of unspecified size on stack
  * [IPV4] ARP: Remove not used code
  * [IPSEC]: Avoid undefined shift operation when testing algorithm ID
  * [XFRM]: Audit function arguments misordered
  * [IPV4] ip_gre: set mac_header correctly in receive path
  * [NET]: Correct two mistaken skb_reset_mac_header() conversions.
  * [SPARC64]: Fix OOPS in dma_sync_*_for_device()
  * sched: rt: account the cpu time during the tick
  * debug: add end-of-oops marker
  * mm: fix exit_mmap BUG() on a.out binary exit
  * dm: table detect io beyond device
  * dm mpath: hp requires scsi
  * dm crypt: fix write endio
  * dm: trigger change uevent on rename
  * dm: merge max_hw_sector
  * dm crypt: use bio_add_page
  * [SPARC64]: Spelling fixes
  * [SPARC32]: Spelling fixes
  * [NET] include/net/: Spelling fixes
  * [DCCP]: Spelling fixes
  * [IRDA]: Spelling fixes
  * [IPV6]: Spelling fixes
  * [NET] net/core/: Spelling fixes
  * [PKT_SCHED]: Spelling fixes
  * [NETLABEL]: Spelling fixes
  * [SCTP]: Spelling fixes
  * [NETFILTER]: Spelling fixes
  * [NETFILTER] ipv4: Spelling fixes
  * [ATM]: Spelling fixes
  * [NET]: Fix function put_cmsg() which may cause usr application memory
    overflow
  * x86: fix die() to not be preemptible
  * x86: intel_cacheinfo.c: cpu cache info entry for Intel Tolapai
  * [XFS] Fix mknod regression
  * [XFS] Initialise current offset in xfs_file_readdir correctly
  * Linux 2.6.24-rc6
  * [IPV4]: OOPS with NETLINK_FIB_LOOKUP netlink socket
  * SLUB: Improve hackbench speed
  * typhoon: endianness bug in tx/rx byte counters
  * typhoon: missing le32_to_cpu() in get_drvinfo
  * typhoon: set_settings broken on big-endian
  * typhoon: missed rx overruns on big-endian
  * typhoon: memory corruptor on big-endian if TSO is enabled
  * typhoon: trivial endianness annotations
  * cycx: annotations and fixes (.24 fodder?)
  * asix fixes
  * yellowfin: annotations and fixes (.24 fodder?)
  * dl2k endianness fixes (.24 fodder?)
  * r8169 endianness
  * rrunner: use offsetof() instead of homegrown insanity
  * 3c574 and 3c589 endianness fixes (.24?)
  * fec_mpc52xx: write in C...
  * 3c359 endianness annotations and fixes
  * MACB: clear transmit buffers properly on transmit underrun
  * UIO: Add a MAINTAINERS entry for Userspace I/O
  * Modules: fix memory leak of module names
  * USB: Unbreak fsl_usb2_udc
  * USB: VID/PID update for sierra
  * USB: New device ID for the CP2101 driver
  * quicklists: do not release off node pages early
  * ecryptfs: fix string overflow on long cipher names
  * Fix computation of SKB size for quota messages
  * Don't send quota messages repeatedly when hardlimit reached
  * ecryptfs: fix unlocking in error paths
  * ecryptfs: redo dget,mntget on dentry_open failure
  * MAINTAINERS: mailing list archives are web links
  * ps3: vuart: fix error path locking
  * lib: proportion: fix underflow in prop_norm_percpu()
  * pcmcia: remove pxa2xx_lubbock build warning
  * kconfig: obey KCONFIG_ALLCONFIG choices with randconfig.
  * tty: fix logic change introduced by wait_event_interruptible_timeout()
  * uml: user of helper_wait() got missed when it got extra arguments
  * V4L/DVB (6871): Kconfig: VIDEO_CX23885 must select DVB_LGDT330X
  * V4L/DVB (6876): ivtv: mspx4xx needs a longer i2c udelay
  * drivers/ide/: Spelling fixes
  * ide-cd: fix SAMSUNG CD-ROM SCR-3231 quirk
  * ide-cd: fix ACER/AOpen 24X CDROM speed reporting on big-endian machines
  * ide-cd: use ide_cd_release() in ide_cd_probe()
  * ide-cd: fix error messages in cdrom_{read,write}_check_ireason()
  * ide-cd: add missing 'ireason' masking to cdrom_write_intr()
  * ide-cd: fix error messages in cdrom_write_intr()
  * ide-cd: add error message for DMA error to cdrom_read_intr()
  * ide-cd: fix error message in cdrom_pc_intr()
  * ide-cd: fix 'ireason' reporting in cdrom_pc_intr()
  * MAINTAINERS: update ide-cd entry
  * [SPARC64]: Implement pci_resource_to_user()
  * mac80211: round station cleanup timer
  * mac80211: warn when receiving frames with unaligned data
  * [NETFILTER]: nf_conntrack_ipv4: fix module parameter compatibility
  * [TUNTAP]: Fix wrong debug message.
  * [NET] tc_nat: header install
  * [VETH]: move veth.h to include/linux
  * [IPV4]: Fix ip command line processing.
  * Revert quicklist need->flush fix
  * [CRYPTO] padlock: Fix spurious ECB page fault
  * [POWERPC] Oprofile: Remove dependency on spufs module
  * [POWERPC] PS3: Fix printing of os-area magic numbers
  * [PCI] Do not enable CRS Software Visibility by default
  * [IPV4] Fix ip=dhcp regression
  * [SERIAL]: Fix section mismatches in Sun serial console drivers.
  * [TCP]: use non-delayed ACK for congestion control RTT
  * [BLUETOOTH]: put_device before device_del fix

 -- Tim Gardner <tim.gardner@canonical.com>  Sat, 22 Dec 2007 15:16:11 -0700

linux (2.6.24-2.4) hardy; urgency=low

  [Alessio Igor Bogani]

  * rt: First import for Hardy

  [Amit Kucheria]

  * LPIA: Fix FTBFS for hda
  * LPIA: Trim configs including disabling stock DRM

  [Tim Gardner]

  * SAUCE: Increase CONFIG_IDE_MAX_HWIFS to 8 (from 4)
    - LP: #157909
    Then reverted since it causes an ABI bump. Will pick it up
    again when next the ABI changes.
  * Expose apm for applications.

 -- Tim Gardner <tim.gardner@canonical.com>  Wed, 19 Dec 2007 13:17:31 -0700

linux (2.6.24-2.3) hardy; urgency=low

  [Amit Kucheria]

  * LPIA: Add thermal framework from Intel
  * LPIA: Poulsbo-specific patches
  * LPIA: Add thermal framework from Intel

  [Tim Gardner]

  * SAUCE: hdaps module does not load on Thinkpad T61P
    - LP: #133636

  [Upstream Kernel Changes]

  * Rebased against 2.6.24-rc5

 -- Tim Gardner <tim.gardner@canonical.com>  Wed, 12 Dec 2007 13:58:52 -0700

linux (2.6.24-1.2) hardy; urgency=low

  [Ben Collins]

  * cell: Remove cell custom flavour, merged upstream
  * apparmor: Added module from SVN repo
  * ubuntu: Update configs to enable apparmor
  * ubuntu/configs: Disable vga type framebuffers on hppa32. Fixes FTBFS

  [Tim Gardner]

  * Add support for PPA builds.

  [Upstream Kernel Changes]

  * [SPARC64] Export symbols for sunvnet and sunvdc to be built modular

 -- Ben Collins <bcollins@ubuntu.com>  Fri, 07 Dec 2007 15:18:32 -0500

linux (2.6.24-1.1) hardy; urgency=low

  [Ben Collins]

  * ubuntu: Disable custom binary flavours for now
  * ubuntu: Remove cruft in headers-postinst
  * ubuntu: Set skipabi/skipmodule to true if prev_revions == 0.0
  * ubuntu: Do not fail on missing module lists when skipmodule is set
  * ubuntu: capability.ko is built-in now, no need to place in initrd.
  * ubuntu: Change to "linux" instead of "linux-source-2.6.x"
  * d-i: cdrom-modules disappeared, and sha256/aes modules renamed.
  * ubuntu-build: Add asm_link= to arch rules, and use them
  * config: Re-enable snd-hda-intel

 -- Ben Collins <bcollins@ubuntu.com>  Wed, 28 Nov 2007 12:58:37 -0500

linux-source-2.6.22 (2.6.22-14.46) gutsy; urgency=low

  [Upstream Kernel Changes]

  * [SPARC64]: Fix bugs in SYSV IPC handling in 64-bit processes.

 -- Kyle McMartin <kyle@ubuntu.com>  Sun, 14 Oct 2007 20:30:09 +0000

linux-source-2.6.22 (2.6.22-14.45) gutsy; urgency=low

  [Upstream Kernel Changes]

  * [SPARC64]: Fix register usage in xor_raid_4().

 -- Kyle McMartin <kyle@ubuntu.com>  Sun, 14 Oct 2007 12:34:44 -0400

linux-source-2.6.22 (2.6.22-14.44) gutsy; urgency=low

  [Kyle McMartin]

  * Revert "sparc wants ehci built in"

  [Upstream Kernel Changes]

  * Revert "[PATCH]: Gutsy OHCI hang workaround for Huron"
  * [USB]: Serialize EHCI CF initialization.

 -- Kyle McMartin <kyle@ubuntu.com>  Sun, 14 Oct 2007 16:25:51 +0000

linux-source-2.6.22 (2.6.22-14.43) gutsy; urgency=low

  [Kyle McMartin]

  * sparc wants ehci built in

 -- Kyle McMartin <kyle@ubuntu.com>  Tue, 09 Oct 2007 20:07:58 +0000

linux-source-2.6.22 (2.6.22-14.42) gutsy; urgency=low

  [Kyle McMartin]

  * fix up module-check to bail early if asked to ignore modules
  * disable kernel DRM on lpia (we provide one in lum)
    - LP: #145168
  * add ignore for ia64 abi too

  [Upstream Kernel Changes]

  * [NIU]: Use netif_msg_*().
  * [NIU]: Use pr_info().
  * [NIU]: Remove redundant BUILD_BUG_ON() in __niu_wait_bits_clear().
  * [NIU]: Remove BUG_ON() NULL pointer checks.
  * [NIU]: Use dev_err().
  * [NIU]: Fix x86_64 build failure.
  * [NIU]: Use linux/io.h instead of asm/io.h
  * [NIU]: Fix some checkpatch caught coding style issues.
  * [NIU]: Fix shadowed local variables.
  * [NIU]: Fix locking errors in link_status_10g().
  * [NIU]: Document a few magic constants using comments.
  * [NIU]: MII phy handling fixes.
  * [NIU]: Make sure link_up status is set to something in
    link_status_{1,10}g().
  * [PATCH]: Gutsy OHCI hang workaround for Huron

 -- Kyle McMartin <kyle@ubuntu.com>  Tue, 09 Oct 2007 17:25:06 +0000

linux-source-2.6.22 (2.6.22-14.41) gutsy; urgency=low

  [Ben Collins]

  * ubuntu/d-i: Add niu to nic-modules

  [Kyle McMartin]

  * vesafb is not for ia64
  * remove CONFIG_NIU from places it shouldn't be
  * fix orinoco_cs oops
    - LP: #149997

  [Upstream Kernel Changes]

  * [SPARC64]: Allow userspace to get at the machine description.
  * [SPARC64]: Niagara-2 optimized copies.
  * [SPARC64]: Do not touch %tick_cmpr on sun4v cpus.
  * [SPARC64]: SMP trampoline needs to avoid %tick_cmpr on sun4v too.
  * [SPARC64]: Create a HWCAP_SPARC_N2 and report it to userspace on
    Niagara-2.
  * [MATH-EMU]: Fix underflow exception reporting.
  * [SPARC64]: Need to clobber global reg vars in switch_to().
  * [MATH]: Fix typo in FP_TRAPPING_EXCEPTIONS default setting.
  * [SUNVDC]: Use slice 0xff on VD_DISK_TYPE_DISK.
  * [SPARC64]: Fix type and constant sizes wrt. sun4u IMAP/ICLR handling.
  * [SPARC64]: Enable MSI on sun4u Fire PCI-E controllers.
  * [SPARC64]: Fix several bugs in MSI handling.
  * [SPARC64]: Fix booting on V100 systems.
  * [SPARC64]: Fix lockdep, particularly on SMP.
  * [SPARC64]: Warn user if cpu is ignored.
  * [SUNSAB]: Fix several bugs.
  * [SUNSAB]: Fix broken SYSRQ.
  * [SPARC64]: Fix missing load-twin usage in Niagara-1 memcpy.
  * [SPARC64]: Don't use in/local regs for ldx/stx data in N1 memcpy.
  * [SPARC64]: Fix domain-services port probing.
  * [SPARC64]: VIO device addition log message level is too high.
  * [SPARC64]: check fork_idle() error
  * [SPARC64]: Fix 'niu' complex IRQ probing.
  * [NIU]: Add Sun Neptune ethernet driver.

 -- Kyle McMartin <kyle@ubuntu.com>  Tue, 09 Oct 2007 00:38:16 +0000

linux-source-2.6.22 (2.6.22-13.40) gutsy; urgency=low

  [Amit Kucheria]

  * Enable CONFIG_VM86 for LPIA
    - LP: #146311
  * Update configuration files
  * Disable MSI by default
  * Add mmconf documentation
  * Update configuration files

  [Bartlomiej Zolnierkiewicz]

  * ide-disk: workaround for buggy HPA support on ST340823A (take 3)
    - LP: #26119

  [Ben Collins]

  * ubuntu/cell: Fixup ps3 related modules for d-i, enable RTAS console
  * ubuntu/cell: Enable CELLEB and related modules (pata_scc)
  * ubuntu/cell: Move ps3rom to storage-core. Also use spidernet, not
    spider_net.
  * ubuntu/cell: Set PS3_MANAGER=y
  * ubuntu: Set NR_CPUS=256 for sparc64-smp

  [Chuck Short]

  * [USB] USB] Support for MediaTek MT6227 in cdc-acm.
    - LP: #134123
  * [XEN] Fix xen vif create with more than 14 guests.
    - LP: #14486

  [Jorge Juan Chico]

  * ide: ST320413A has the same problem as ST340823A
    - LP: #26119

  [Kyle McMartin]

  * fix -rt build
  * fix ia32entry-xen.S for CVE-2007-4573
  * fix build when CONFIG_PCI_MSI is not set

  [Matthew Garrett]

  * hostap: send events on data interface as well as master interface
    - LP: #57146
  * A malformed _GTF object should not prevent ATA device recovery
    - LP: #139079
  * hostap: send events on data interface as well as master interface
    - LP: #57146
  * A malformed _GTF object should not prevent ATA device recovery
    - LP: #139079
  * Don't lose appletouch button release events
  * Fix build with appletouch change
  * Disable Thinkpad backlight support on machines with ACPI video
    - LP: #148055
  * Don't attempt to register a callback if there is no CMOS object
    - LP: #145857
  * Update ACPI bay hotswap code to support locking
    - LP: #148219
  * Update ACPI bay hotswap code to support locking
    - LP: #148219
  * Don't attempt to register a callback if there is no CMOS object
    - LP: #145857
  * Disable Thinkpad backlight support on machines with ACPI video
    - LP: #148055

  [Steffen Klassert]

  * 3c59x: fix duplex configuration
    - LP: #94186

  [Thomas Gleixner]

  * clockevents: remove the suspend/resume workaround^Wthinko

  [Tim Gardner]

  * orinoco_cs.ko missing
    - LP: #125832
  * Marvell Technology ethernet card not recognized and not operational
    - LP: #135316
  * Marvell Technology ethernet card not recognized and not operational
    - LP: #135316
  * acpi_scan_rsdp() breaks some PCs by not honouring ACPI specification
    - LP: #144336
  * VIA southbridge Intel id missing
    - LP: #128289
  * Add T-Sinus 111card to hostap_cs driver to be able to upload firmware
    - LP: #132466
  * RTL8111 PCI Express Gigabit driver r8169 big files produce slow file
    transfer
    - LP: #114171
  * Guest OS does not recognize a lun with non zero target id on Vmware ESX
    Server
    - LP: #140761
  * Modualrize vesafb
    - LP: #139505
  * Nikon cameras need support in unusual_devs.h
    - LP: #134477
  * agp for i830m broken in gutsy
    - LP: #139767
  * hdaps: Added support for Thinkpad T61
    - LP: #147383
  * xen: Update config for i386
    - LP: #139047
  * xen: resync for amd64
    - LP: #139047
  * ide-disk: workaround for buggy HPA support on ST340823A (take 4)
    - LP: #26119

  [Upstream Kernel Changes]

  * Convert snd-page-alloc proc file to use seq_file (CVE-2007-4571)
  * Linux 2.6.22.8
  * ACPI: disable lower idle C-states across suspend/resume
  * V4L: ivtv: fix VIDIOC_S_FBUF: new OSD values were never set
  * DVB: get_dvb_firmware: update script for new location of sp8870
    firmware
  * DVB: get_dvb_firmware: update script for new location of tda10046
    firmware
  * DVB: b2c2-flexcop: fix Airstar HD5000 tuning regression
  * setpgid(child) fails if the child was forked by sub-thread
  * sigqueue_free: fix the race with collect_signal()
  * kconfig: oldconfig shall not set symbols if it does not need to
  * MTD: Makefile fix for mtdsuper
  * USB: fix linked list insertion bugfix for usb core
  * ACPI: Validate XSDT, use RSDT if XSDT fails
  * POWERPC: Flush registers to proper task context
  * 3w-9xxx: Fix dma mask setting
  * MTD: Initialise s_flags in get_sb_mtd_aux()
  * JFFS2: fix write deadlock regression
  * V4L: cx88: Avoid a NULL pointer dereference during mpeg_open()
  * hwmon: End of I/O region off-by-one
  * Fix debug regression in video/pwc
  * splice: fix direct splice error handling
  * rpc: fix garbage in printk in svc_tcp_accept()
  * disable sys_timerfd()
  * afs: mntput called before dput
  * Fix DAC960 driver on machines which don't support 64-bit DMA
  * Fix "Fix DAC960 driver on machines which don't support 64-bit DMA"
  * firewire: fw-ohci: ignore failure of pci_set_power_state (fix suspend
    regression)
  * futex_compat: fix list traversal bugs
  * Leases can be hidden by flocks
  * ext34: ensure do_split leaves enough free space in both blocks
  * nfs: fix oops re sysctls and V4 support
  * dir_index: error out instead of BUG on corrupt dx dirs
  * ieee1394: ohci1394: fix initialization if built non-modular
  * Correctly close old nfsd/lockd sockets.
  * Fix race with shared tag queue maps
  * crypto: blkcipher_get_spot() handling of buffer at end of page
  * fix realtek phy id in forcedeth
  * Fix decnet device address listing.
  * Fix device address listing for ipv4.
  * Fix inet_diag OOPS.
  * Fix IPV6 append OOPS.
  * Fix IPSEC AH4 options handling
  * Fix ipv6 double-sock-release with MSG_CONFIRM
  * Fix IPV6 DAD handling
  * Fix ipv6 source address handling.
  * Fix oops in vlan and bridging code
  * Fix tc_ematch kbuild
  * Handle snd_una in tcp_cwnd_down()
  * Fix TCP DSACK cwnd handling
  * Fix datagram recvmsg NULL iov handling regression.
  * Fix pktgen src_mac handling.
  * Fix sparc64 v100 platform booting.
  * bcm43xx: Fix cancellation of work queue crashes
  * Linux 2.6.22.9
  * usb: serial/pl2303: support for BenQ Siemens Mobile Phone EF81
  * pata_it821x: fix lost interrupt with atapi devices
  * i915: make vbl interrupts work properly on i965g/gm hw.

 -- Kyle McMartin <kyle@ubuntu.com>  Thu, 04 Oct 2007 13:57:53 +0000

linux-source-2.6.22 (2.6.22-12.39) gutsy; urgency=low

  [Ben Collins]

  * ubuntu: Re-order deps so that binary-custom is done before
    binary-udebs. Fixes ppc build

  [Upstream Kernel Changes]

  * x86_64: Zero extend all registers after ptrace in 32bit entry path.
  * Linux 2.6.22.7

 -- Ben Collins <bcollins@ubuntu.com>  Sun, 23 Sep 2007 11:05:32 -0400

linux-source-2.6.22 (2.6.22-12.38) gutsy; urgency=low

  [Kyle McMartin]

  * add -12 abi files
  * update getabis for new flavours

 -- Kyle McMartin <kyle@ubuntu.com>  Fri, 21 Sep 2007 13:35:49 -0400

linux-source-2.6.22 (2.6.22-12.37) gutsy; urgency=low

  [Kyle McMartin]

  * enable d-i for cell flavour
  * ignore ABI check on all hppa flavours

 -- Kyle McMartin <kyle@ubuntu.com>  Fri, 21 Sep 2007 11:28:34 -0400

linux-source-2.6.22 (2.6.22-12.36) gutsy; urgency=low

  [Ben Collins]

  * ABI bump due to LED support being enabled.

  [Kyle McMartin]

  * fix memory leak in psparse.c
    - Bug introduced in previous commit to acpi

  [Upstream Kernel Changes]

  * Ubuntu: Allocate acpi_devices structure rather than leaving it on the
    stack.
  * ipw2100: Fix `iwpriv set_power` error
  * Fix ipw2200 set wrong power parameter causing firmware error
  * [SCSI] Fix async scanning double-add problems
    - LP: #110997

 -- Ben Collins <bcollins@ubuntu.com>  Thu, 20 Sep 2007 11:34:52 -0400

linux-source-2.6.22 (2.6.22-11.34) gutsy; urgency=low

  [Alan Stern]

  * USB: disable autosuspend by default for non-hubs
    - LP: #85488

  [Ben Collins]

  * ubuntu: Enable LEDS_TRIGGERS and related options
    - Needed for iwlwifi
  * ubuntu: Add real ABI files for virtual flavour
  * ubuntu: Re-enable missing CONFIG_SERPENT for hppa64
    - Noticed by Lamont
  * ubuntu: Add linux-headers postinst to handle hooks
    - LP: #125816
  * ubuntu: Add support for /etc/kernel/headers_postinst.d/ to
    headers-postinst
    - LP: #120049
  * cell: Add binary-custom flavour "cell" to support ps3

  [Mattia Dongili]

  * sony-laptop: restore the last user requested brightness level on
    resume.
    - LP: #117331

  [Tejun Heo]

  * ata_piix: fix suspend/resume for some TOSHIBA laptops
    - LP: #139045
  * PCI: export __pci_reenable_device()
    - needed for ata_piix change

  [Tim Gardner]

  * Enable Sierra Wireless MC8775 0x6813
    - LP: #131167

  [Zhang Rui]

  * ACPI: work around duplicate name "VID" problem on T61
    - Noted by mjg59

 -- Ben Collins <bcollins@ubuntu.com>  Sun, 16 Sep 2007 22:31:47 -0400

linux-source-2.6.22 (2.6.22-11.33) gutsy; urgency=low

  [Alessio Igor Bogani]

  * rt: Update to rt9
  * rt: Update configuration files

  [Ben Collins]

  * ubuntu: Enable A100 driver
    - LP: #138632
  * libata: Default to hpa being overridden

  [Chuck Short]

  * [HDAPS] Add support for Thinkpad R61.
  * [LIBATA] Add more hard drives to blacklist.
  * [USB] Added support for Sprint Pantech PX-500.
  * [XEN] No really enable amd64.
  * [XEN] Fix amd64 yet again.

  [Matthew Garrett]

  * alter default behaviour of ACPI video module
  * Add infrastructure for notification on ACPI method execution
  * Get thinkpad_acpi to send notifications on CMOS updates
  * Add support to libata-acpi for acpi-based bay hotplug

  [Phillip Lougher]

  * Add kernel flavour optimised for virtualised environments
  * Change abi-check script to check for $flavour.ignore in previous abi
  * Disable abi and module check for virtual flavour

  [Richard Hughes]

  * Refresh laptop lid status on resume

  [Upstream Kernel Changes]

  * [pata_marvell]: Add more identifiers

 -- Ben Collins <bcollins@ubuntu.com>  Sun, 16 Sep 2007 22:13:08 -0400

linux-source-2.6.22 (2.6.22-11.32) gutsy; urgency=low

  [Amit Kucheria]

  * Build system: Allow custom builds to comprise multiple patches
  * Move UME to a Custom build and add first setup of thermal framework

  [Ben Collins]

  * ubuntu: Enable CONFIG_BLK_DEV_IO_TRACE
  * bcm203x: Fix firmware loading
    - LP: #85247
  * ubuntu: mtd changes caused module renaming. Ignore
  * rt: Do not patch top level Makefile for SUBLEVEL. Will always end up
    breaking

  [Chuck Short]

  * [USB] Unusual Device support for Gold MP3 Player Energy
    - LP: #125250
  * [SIERRA] Adds support for Onda H600 ZTE MF330
    - LP: #129433
  * [HDAPS] Add Thinkpad T61P to whitelist.
    - LP: #133636
  * [USB] Add support for Toshiba (Novatel Wireless) HSDPA for M400.
    - LP: #133650

  [Kyle McMartin]

  * apparmor 10.3 hooks
  * unionfs 2.1 hooks
  * nuke UNION_FS stuff from fs/{Kconfig,Makefile}

  [Tim Gardner]

  * Paravirt-ops I/O hypercalls
  * Fix lazy vmalloc bug for Gutsy
  * bluetooth headset patch
    - LP: #130870
  * Add the PCI ID of this ICH4 in list of laptops that use short cables.
  * v2.6.22.5 merge
  * Update Xen config options.
    - LP: #132726
  * Remove mtd modules from ABI
  * Support parallel=<n> in DEB_BUILD_OPTIONS
    - LP: #136426

  [Upstream Kernel Changes]

  * hwmon: fix w83781d temp sensor type setting
  * hwmon: (smsc47m1) restore missing name attribute
  * sky2: restore workarounds for lost interrupts
  * sky2: carrier management
  * sky2: check for more work before leaving NAPI
  * sky2: check drop truncated packets
  * revert "x86, serial: convert legacy COM ports to platform devices"
  * ACPICA: Fixed possible corruption of global GPE list
  * ACPICA: Clear reserved fields for incoming ACPI 1.0 FADTs
  * AVR32: Fix atomic_add_unless() and atomic_sub_unless()
  * r8169: avoid needless NAPI poll scheduling
  * forcedeth: fix random hang in forcedeth driver when using netconsole
  * libata: add ATI SB700 device IDs to AHCI driver
  * Hibernation: do not try to mark invalid PFNs as nosave
  * i386: allow debuggers to access the vsyscall page with compat vDSO
  * x86_64: Check for .cfi_rel_offset in CFI probe
  * x86_64: Change PMDS invocation to single macro
  * i386: Handle P6s without performance counters in nmi watchdog
  * i386: Fix double fault handler
  * JFFS2 locking regression fix.
  * [Input]: appletouch - improve powersaving for Geyser3 devices
  * [Input]: add driver for Fujitsu serial touchscreens
  * [sdhci]: add support to ENE-CB714
  * v2.6.22.5
  * [MTD] Makefile fix for mtdsuper
  * ocfs2: Fix bad source start calculation during kernel writes
  * NET: Share correct feature code between bridging and bonding
  * sky2: don't clear phy power bits
  * uml: fix previous request size limit fix
  * i386: fix lazy mode vmalloc synchronization for paravirt
  * signalfd: fix interaction with posix-timers
  * signalfd: make it group-wide, fix posix-timers scheduling
  * DCCP: Fix DCCP GFP_KERNEL allocation in atomic context
  * IPV6: Fix kernel panic while send SCTP data with IP fragments
  * IPv6: Invalid semicolon after if statement
  * Fix soft-fp underflow handling.
  * Netfilter: Missing Kbuild entry for netfilter
  * SNAP: Fix SNAP protocol header accesses.
  * NET: Fix missing rcu unlock in __sock_create()
  * SPARC64: Fix sparc64 task stack traces.
  * SPARC64: Fix sparc64 PCI config accesses on sun4u
  * TCP: Do not autobind ports for TCP sockets
  * TCP: Fix TCP rate-halving on bidirectional flows.
  * TCP: Fix TCP handling of SACK in bidirectional flows.
  * PPP: Fix PPP buffer sizing.
  * PCI: lets kill the 'PCI hidden behind bridge' message
  * PCI: disable MSI on RS690
  * PCI: disable MSI on RD580
  * PCI: disable MSI on RX790
  * USB: allow retry on descriptor fetch errors
  * USB: fix DoS in pwc USB video driver
  * usb: add PRODUCT, TYPE to usb-interface events
  * Linux 2.6.22.6
  * V4L/DVB (6042): b2c2-flexcop: fix Airstar HD5000 tuning regression
  * V4L/DVB (5967): ivtv: fix VIDIOC_S_FBUF:new OSD values where never set
  * Re-add _GTM and _STM support

 -- Ben Collins <bcollins@ubuntu.com>  Fri, 31 Aug 2007 16:26:56 -0400

linux-source-2.6.22 (2.6.22-10.30) gutsy; urgency=low

  * URGENT upload to fix FTBFS with xen-{i386,amd64} configs,
    lpia d-i ftbfs, xen ftbfs.
  * URGENT fix module-check to actually ignore things
  * URGENT ignore ume modules

  [Alek Du]

  * Add Intel Poulsbo chipset Libata support

  [Amit Kucheria]

  * Update configuration files
  * Enable stylus on Lenovo X60/X61 thinkpads

  [Ben Collins]

  * ubuntu: Disable snd-hda-intel, in favor of lum updated version

  [Kyle McMartin]

  * apparmor 10.3 hooks
  * add lpia d-i udeb generation
  * fix bits of rt/diff for -rt8
  * fix rt/diff for 2.6.22.3 changes
  * fix up rt/diff for stable 2.6.22.4

  [LaMont Jones]

  * Update configuration files

  [Phillip Lougher]

  * WriteSupportForNTFS: make fuse module available to d-i

  [Tim Gardner]

  * Gutsy Tribe 3 CD don't load on Dell Inspiron 1501
    - LP: #121111
  * Update configuration files
  * Update configuration files
  * Update configuration files

  [Upstream Kernel Changes]

  * [SPARC64]: Fix handling of multiple vdc-port nodes.
  * [SPARC64]: Tweak assertions in sun4v_build_virq().
  * [SPARC64]: Fix log message type in vio_create_one().
  * [SPARC64]: Fix two year old bug in early bootup asm.
  * [SPARC64]: Improve VIO device naming further.
  * [SPARC64]: Handle multiple domain-services-port nodes properly.
  * [SPARC64]: Add proper multicast support to VNET driver.
  * [SPARC64]: Do not flood log with failed DS messages.
  * [SPARC64]: Use KERN_ERR in IRQ manipulation error printks.
  * [SPARC64]: Fix virq decomposition.
  * [SPARC]: Fix serial console device detection.
  * [SPARC64]: fix section mismatch warning in pci_sunv4
  * [SPARC64]: fix section mismatch warning in mdesc.c
  * [SPARC64] viohs: extern on function definition
  * [SPARC64]: Fix sun4u PCI config space accesses on sun4u.
  * [SPARC64]: Fix show_stack() when stack argument is NULL.
  * [SUNLANCE]: Fix sparc32 crashes by using of_*() interfaces.
  * [SPARC]: Centralize find_in_proplist() instead of duplicating N times.
  * [SPARC64]: Fix hard-coding of cpu type output in /proc/cpuinfo on
    sun4v.
  * [SPARC64]: Do not assume sun4v chips have load-twin/store-init support.
  * [SPARC64]: Fix memory leak when cpu hotplugging.
  * USB: cdc-acm: fix sysfs attribute registration bug
  * TCP FRTO retransmit bug fix
  * Fix TC deadlock.
  * Fix IPCOMP crashes.
  * Fix console write locking in sparc drivers.
  * Add a PCI ID for santa rosa's PATA controller.
  * Missing header include in ipt_iprange.h
  * SCTP scope_id handling fix
  * Fix rfkill IRQ flags.
  * gen estimator timer unload race
  * gen estimator deadlock fix
  * Fix error queue socket lookup in ipv6
  * Fix ipv6 link down handling.
  * Netpoll leak
  * Sparc64 bootup assembler bug
  * Fix ipv6 tunnel endianness bug.
  * Fix sparc32 memset()
  * Fix sparc32 udelay() rounding errors.
  * Fix TCP IPV6 MD5 bug.
  * KVM: SVM: Reliably detect if SVM was disabled by BIOS
  * USB: fix warning caused by autosuspend counter going negative
  * usb-serial: Fix edgeport regression on non-EPiC devices
  * Fix reported task file values in sense data
  * aacraid: fix security hole
  * firewire: fw-sbp2: set correct maximum payload (fixes CardBus adapters)
  * make timerfd return a u64 and fix the __put_user
  * V4L: Add check for valid control ID to v4l2_ctrl_next
  * V4L: ivtv: fix broken VBI output support
  * V4L: ivtv: fix DMA timeout when capturing VBI + another stream
  * V4L: ivtv: Add locking to ensure stream setup is atomic
  * V4L: wm8775/wm8739: Fix memory leak when unloading module
  * Input: lifebook - fix an oops on Panasonic CF-18
  * splice: fix double page unlock
  * drm/i915: Fix i965 secured batchbuffer usage (CVE-2007-3851)
  * Fix leak on /proc/lockdep_stats
  * CPU online file permission
  * Fix user struct leakage with locked IPC shem segment
  * md: handle writes to broken raid10 arrays gracefully
  * md: raid10: fix use-after-free of bio
  * pcmcia: give socket time to power down
  * Fix leaks on /proc/{*/sched, sched_debug, timer_list, timer_stats}
  * futex: pass nr_wake2 to futex_wake_op
  * "ext4_ext_put_in_cache" uses __u32 to receive physical block number
  * Include serial_reg.h with userspace headers
  * dm io: fix panic on large request
  * i386: HPET, check if the counter works
  * fw-ohci: fix "scheduling while atomic"
  * firewire: fix memory leak of fw_request instances
  * softmac: Fix ESSID problem
  * eCryptfs: ecryptfs_setattr() bugfix
  * nfsd: fix possible read-ahead cache and export table corruption
  * readahead: MIN_RA_PAGES/MAX_RA_PAGES macros
  * fs: 9p/conv.c error path fix
  * forcedeth bug fix: cicada phy
  * forcedeth bug fix: vitesse phy
  * forcedeth bug fix: realtek phy
  * acpi-cpufreq: Proper ReadModifyWrite of PERF_CTL MSR
  * jbd commit: fix transaction dropping
  * jbd2 commit: fix transaction dropping
  * hugetlb: fix race in alloc_fresh_huge_page()
  * do not limit locked memory when RLIMIT_MEMLOCK is RLIM_INFINITY
  * uml: limit request size on COWed devices
  * sony-laptop: fix bug in event handling
  * destroy_workqueue() can livelock
  * drivers/video/macmodes.c:mac_find_mode() mustn't be __devinit
  * cfq-iosched: fix async queue behaviour
  * libata: add FUJITSU MHV2080BH to NCQ blacklist
  * ieee1394: revert "sbp2: enforce 32bit DMA mapping"
  * nfsd: fix possible oops on re-insertion of rpcsec_gss modules
  * dm raid1: fix status
  * dm io: fix another panic on large request
  * dm snapshot: permit invalid activation
  * dm: disable barriers
  * cr_backlight_probe() allocates too little storage for struct cr_panel
  * ACPI: dock: fix opps after dock driver fails to initialize
  * Hangup TTY before releasing rfcomm_dev
  * Keep rfcomm_dev on the list until it is freed
  * nf_conntrack: don't track locally generated special ICMP error
  * IPV6: /proc/net/anycast6 unbalanced inet6_dev refcnt
  * sysfs: release mutex when kmalloc() failed in sysfs_open_file().
  * Netfilter: Fix logging regression
  * USB: fix for ftdi_sio quirk handling
  * sx: switch subven and subid values
  * UML: exports for hostfs
  * Linux 2.6.22.2
  * fix oops in __audit_signal_info()
  * random: fix bound check ordering (CVE-2007-3105)
  * softmac: Fix deadlock of wx_set_essid with assoc work
  * ata_piix: update map 10b for ich8m
  * PPC: Revert "[POWERPC] Don't complain if size-cells == 0 in
    prom_parse()"
  * PPC: Revert "[POWERPC] Add 'mdio' to bus scan id list for platforms
    with QE UEC"
  * powerpc: Fix size check for hugetlbfs
  * direct-io: fix error-path crashes
  * stifb: detect cards in double buffer mode more reliably
  * pata_atiixp: add SB700 PCI ID
  * CPUFREQ: ondemand: fix tickless accounting and software coordination
    bug
  * CPUFREQ: ondemand: add a check to avoid negative load calculation
  * Linux 2.6.22.3
  * intel_agp: really fix 945/965GME
  * Reset current->pdeath_signal on SUID binary execution (CVE-2007-3848)
  * MSS(mmc/sd/sdio) driver patch

 -- Kyle McMartin <kyle@ubuntu.com>  Thu, 16 Aug 2007 12:17:27 -0400

linux-source-2.6.22 (2.6.22-9.25) gutsy; urgency=low

  [Kyle McMartin]

  * ubuntu: Fix FTBFS -- forgot to bump debian/abi

 -- Kyle McMartin <kyle@ubuntu.com>  Thu, 02 Aug 2007 22:13:28 +0000

linux-source-2.6.22 (2.6.22-9.24) gutsy; urgency=low

  [Colin Watson]

  * provide Provides for fs-*-modules udebs

  [Matthias Klose]

  * test $dilist before using it

  [Lamont Jones]

  * hppa: Update abi files

 -- Kyle McMartin <kyle@ubuntu.com>  Thu, 02 Aug 2007 18:26:34 +0000

linux-source-2.6.22 (2.6.22-9.23) gutsy; urgency=low

  [Ben Collins]

  * ubuntu: Add missing newline to module-check script
  * ubuntu: Add lpia to linux-libc-dev. Should finally build now.

 -- Ben Collins <bcollins@ubuntu.com>  Thu, 02 Aug 2007 13:10:23 -0400

linux-source-2.6.22 (2.6.22-9.22) gutsy; urgency=low

  [Ben Collins]

  * ubuntu: Use DEB_HOST_ARCH, not DEB_HOST_ARCH_CPU

 -- Ben Collins <bcollins@ubuntu.com>  Thu, 02 Aug 2007 08:44:09 -0400

linux-source-2.6.22 (2.6.22-9.21) gutsy; urgency=low

  [Ben Collins]

  * lpia: Add build stuff for lpia architecture

  [LaMont Jones]

  * abi files for hppa
  * UBUNTU-HPPA: configs that seem to work
  * hppa: abi files for 9.20

 -- Ben Collins <bcollins@ubuntu.com>  Wed, 01 Aug 2007 11:12:59 -0400

linux-source-2.6.22 (2.6.22-9.20) gutsy; urgency=low

  [Ben Collins]

  * tulip: Fix for Uli5261 chipsets.
  * tulip: Define ULI PCI ID's
  * tulip: Let dmfe handle davicom on non-sparc
  * input: Allow root to inject unknown scan codes.
  * irda: Default to dongle type 9 on IBM hardware
  * input/mouse/alps: Do not call psmouse_reset() for alps
  * pcmcia: Do not insert pcmcia cards on resume
  * ide-cd: Disable verbose errors.
  * block: Make CDROMEJECT more robust
  * pm: Config option to disable handling of console during suspend/resume.
  * version: Implement version_signature proc file.
  * update toshiba_acpi to 0.19a-dev
  * xpad: Update to latest version from xbox-linux.
  * ubuntu: Enable setting of CONFIG_VERSION_SIGNATURE at build time
  * toshiba_acpi: Don't use init_MUTEX_LOCKED

  [Chuck Short]

  * [USB]: add ASUS LCM to the blacklist
  * [NET]: Add mcp73 to forcedeth.
  * [USB]: Added support for Sanwa PC5000 multimeter usb cable (KB-USB2).
  * [ATA] Add support for Sb700 AHCI nor-raid5 and raid5

  [Fabio M. Di Nitto]

  * drivers/char/vt.c: make promcon driver init a boot option.

  [Kyle McMartin]

  * Disable MMCONFIG by default

  [Phillip Lougher]

  * fix NFS mounting regression from Edgy->Feisty
  * r8169: disable TSO by default for RTL8111/8168B chipsets.

  [Tim Gardner]

  * Catch nonsense keycodes and silently ignore
  * Cause SoftMac to emit an association event when setting ESSID.

 -- Ben Collins <bcollins@ubuntu.com>  Mon, 30 Jul 2007 12:01:43 -0400

linux-source-2.6.22 (2.6.22-9.19) gutsy; urgency=low

  [Amit Kucheria]

  * Fix for FTBFS bug 123178
  * Fix for FTBFS bug 123178
  * Add devices to USB quirks to prevent USB autosuspend
  * More devices added to USB quirks
    - LP: #85488
  * Support for ENE CB-712/4 SD card reader
  * Reorder quirk list based on Vendor/Product ID

  [Ben Collins]

  * ubuntu: Enable HOTPLUG_CPU in sparc64-smp config.
  * ubuntu: Add xen to amd64 custom builds
  * ubuntu: Update real-time kernel to -rt4
  * rt: Patch from Alessio Igor Bogani <abogani@texware.it> for RT-8

  [Chuck Short]

  * IDE: add MHV2080BH to NCQ blacklist
  * XEN: update to 2.6.22 final and amd64 support.
  * NET: Add more pci-ids to zd1211rw
  * IDE: add new PCI ID
  * USB: fix oops in ftdi_sio

  [Eric Piel]

  * ACPI: Allow custom DSDT tables to be loaded from initramfs

  [Ryan Lortie]

  * Macbook calibration loop fix
    - LP: #54621

  [Upstream Kernel Changes]

  * NETFILTER: {ip, nf}_conntrack_sctp: fix remotely triggerable NULL ptr
    dereference (CVE-2007-2876)
  * Linux 2.6.22.1
  * [SPARC64]: Use KERN_ERR in sun4v IRQ printk()'s.
  * [SPARC64]: Add LDOM virtual channel driver and VIO device layer.
  * [SPARC64]: Add Sun LDOM virtual network driver.
  * [SPARC64]: Add Sun LDOM virtual disk driver.
  * [SPARC64]: Create proper obppath sysfs files for VIO bus devices.
  * [SPARC64] LDC: Do limited polled retry on setting RX queue head.
  * [SUNVNET]: Validate RX descriptor size field.
  * [SPARC64]: Add missing symbol exports for LDOM infrastructure.
  * [SPARC64]: Temporary workaround for LDC INO double-delivery.
  * [SPARC64]: Create 'devspec' nodes for vio devices.
  * [SPARC64]: vdev->type can be NULL, handle this in devspec_show().
  * [SPARC64]: Assorted LDC bug cures.
  * [SPARC64]: Add domain-services nodes to VIO device tree.
  * [SPARC64]: Export powerd facilities for external entities.
  * [SPARC64]: Initial domain-services driver.
  * [SPARC64]: Use more mearningful names for IRQ registry.
  * [SPARC64]: Abstract out mdesc accesses for better MD update handling.
  * [SPARC64]: Fix MD property lifetime bugs.
  * [SPARC64]: Fix setting of variables in LDOM guest.
  * [SPARC64]: Initial LDOM cpu hotplug support.
  * [SPARC64]: Unconditionally register vio_bus_type.
  * [SPARC64]: Fix build regressions added by dr-cpu changes.
  * [SPARC64]: mdesc.c needs linux/mm.h
  * [SPARC64]: SMP build fixes.
  * [SPARC64]: More sensible udelay implementation.
  * [SPARC64]: Process dr-cpu events in a kthread instead of workqueue.
  * [SPARC64]: Add ->set_affinity IRQ handlers.
  * [SPARC64]: Fix leak when DR added cpu does not bootup.
  * [SPARC64]: Clear cpu_{core,sibling}_map[] in
    smp_fill_in_sib_core_maps()
  * [SPARC64]: Give more accurate errors in dr_cpu_configure().
  * [SERIAL]: Fix console write locking in sparc drivers.
  * [TIMER]: Fix clockevent notifications on 64-bit.
  * [SPARC64]: dr-cpu unconfigure support.
  * [SPARC64]: Fix UP build.
  * [SPARC64]: SMP build fix.
  * [SPARC64]: Fix race between MD update and dr-cpu add.
  * [SERIAL] SUNHV: Fix jerky console on LDOM guests.
  * [SPARC64]: Kill explicit %gl register reference.
  * [SPARC64]: Add basic infrastructure for MD add/remove notification.
  * [SPARC64]: Simplify VDC device probing.
  * [SPARC64]: Simplify VNET probing.
  * [SPARC64]: Massively simplify VIO device layer and support hot
    add/remove.
  * [SPARC64]: Handle LDC resets properly in domain-services driver.
  * [SPARC64]: Handle reset events in vio_link_state_change().
  * [SPARC64]: Fix reset handling in VNET driver.
  * [SPARC64]: Set vio->desc_buf to NULL after freeing.
  * [SPARC64]: Fix MODULE_DEVICE_TABLE() specification in VDC and VNET.
  * [SPARC64]: Fix device type matching in VIO's devspec_show().
  * Add empty <asm-parisc/vga.h>
  * Add dummy isa_(bus|virt)_to_(virt|bus) inlines
  * Clean up sti_flush
  * Do not allow STI_CONSOLE to be modular
  * Use compat_sys_getdents

 -- Ben Collins <bcollins@ubuntu.com>  Sat, 28 Jul 2007 12:30:53 -0400

linux-source-2.6.22 (2.6.22-8.18) gutsy; urgency=low

  [Ben Collins]

  * ubuntu: *sigh* update xen config to fix FTBFS

 -- Ben Collins <bcollins@ubuntu.com>  Thu, 12 Jul 2007 14:23:20 +0100

linux-source-2.6.22 (2.6.22-8.17) gutsy; urgency=low

  [Ben Collins]

  * ubuntu: Actually enable the -xen build.

 -- Ben Collins <bcollins@ubuntu.com>  Thu, 12 Jul 2007 09:51:01 +0100

linux-source-2.6.22 (2.6.22-8.16) gutsy; urgency=low

  * Removed CONFIG_BLINK from all configs and added to modules.ignore
  * This fixes a build failure for 8.15

  [Alexey Starikovskiy]

  * Fix ACPI battery detection on Asus

  [Amit Kucheria]

  * Export symbols required to build GFS1 in LUM
  * Update configuration files
  * 2.6.22-7.14 ABI
  * Remove old ABI
  * Update d-i modules to support Sparc LDOM
  * Introducing the UME kernel flavour

  [Jacob Pan]

  * Poulsbo SMBus Controller
  * Intel Poulsbo SCH IDE Controller
  * Intel Poulsbo HD audio controller

  [Phillip Lougher]

  * xen: Update custom binary flavour (Xen 3.1 for 2.6.22-rc5)
  * xen: Update xen/config.i386 to enable PAE

  [Upstream Kernel Changes]

  * [SCSI] fusion: fix for BZ 8426 - massive slowdown on SCSI CD/DVD drive
  * [XFS] Update the MAINTAINERS file entry for XFS.
  * IB/mlx4: Fix handling of wq->tail for send completions
  * IB/mlx4: Fix warning in rounding up queue sizes
  * [SCSI] ESP: Don't forget to clear ESP_FLAG_RESETTING.
  * firewire: fix hang after card ejection
  * ieee1394: fix to ether1394_tx in ether1394.c
  * [ARM] Add support for pause_on_oops and display preempt/smp options
  * sh: Fix restartable syscall arg5 clobbering.
  * ACPI: gracefully print null trip-point device
  * ACPICA: fix error path in new external package objects as method
    arguments
  * sh: oops_enter()/oops_exit() in die().
  * [ARM] Update show_regs/oops register format
  * IB/mlx4: Handle new FW requirement for send request prefetching
  * IB/mlx4: Get rid of max_inline_data calculation
  * IB/mlx4: Handle buffer wraparound in __mlx4_ib_cq_clean()
  * IB/mlx4: Handle FW command interface rev 3
  * Fix signalfd interaction with thread-private signals
  * sched: fix SysRq-N (normalize RT tasks)
  * Fix possible runqueue lock starvation in wait_task_inactive()
  * sh: Handle -ERESTART_RESTARTBLOCK for restartable syscalls.
  * sh64: Handle -ERESTART_RESTARTBLOCK for restartable syscalls.
  * [POWERPC] Fix snd-powermac refcounting bugs
  * [XFS] s/memclear_highpage_flush/zero_user_page/
  * [XFS] Update the MAINTAINERS file entry for XFS - change git repo name.
  * [XFRM]: Fix MTU calculation for non-ESP SAs
  * [IPVS]: Fix state variable on failure to start ipvs threads
  * [AF_RXRPC]: Return the number of bytes buffered in rxrpc_send_data()
  * [S390] Missing blank when appending cio_ignore kernel parameter
  * [S390] Fix zfcpdump header
  * [S390] Fix yet another two section mismatches.
  * [S390] Print list of modules on die().
  * [S390] Add oops_enter()/oops_exit() calls to die().
  * [S390] Move psw_set_key.
  * [POWERPC] rheap - eliminates internal fragments caused by alignment
  * [POWERPC] PowerPC: Prevent data exception in kernel space (32-bit)
  * [POWERPC] Fix powermac late initcall to only run on powermac
  * [MIPS] Don't drag a platform specific header into generic arch code.
  * x86_64: Fix readahead/sync_file_range/fadvise64 compat calls
  * x86_64: Fix eventd/timerfd syscalls
  * x86: Disable DAC on VIA bridges
  * x86_64: Quieten Atari keyboard warnings in Kconfig
  * x86: Only make Macintosh drivers default on Macs
  * x86: Disable KPROBES with DEBUG_RODATA for now
  * x86: change_page_attr bandaids
  * x86_64: fix link warning between for .text and .init.text
  * Fix up CREDIT entry ordering
  * firewire: Only set client->iso_context if allocation was successful.
  * spidernet: null out skb pointer after its been used.
  * spidernet: Cure RX ram full bug
  * spidernet: Don't terminate the RX ring
  * spidernet: silence the ramfull messages
  * spidernet: turn off descriptor chain end interrupt.
  * spidernet: checksum and ethtool
  * bonding: Fix use after free in unregister path
  * bonding: Fix 802.3ad no carrier on "no partner found" instance
  * s390: print correct level for HiperSockets devices
  * s390: qeth driver does not recover
  * s390: avoid inconsistent lock state in qeth
  * s390: qeth: wrong packet length in qdio header
  * s390: Use ccw_device_get_id() in qeth/claw drivers
  * s390: don't call iucv_path_connect from tasklet context
  * s390: netiucv spinlock initializer cleanup
  * s390: netiucv inlining cleanup
  * forcedeth: use unicast receive mode for WoL
  * natsemi irq flags
  * cxgb3 - fix skb->dev dereference
  * cxgb3 - fix netpoll hanlder
  * cxgb3 - Fix direct XAUI support
  * cxgb3 - Stop mac RX when changing MTU
  * cxgb3 - MAC watchdog update
  * PATA: Add the MCP73/77 support to PATA driver
  * pata_it821x: (partially) fix DMA in RAID mode
  * libata: more NONCQ devices
  * kerneldoc fix in libata
  * ahci: fix PORTS_IMPL override
  * fix module_param mistake in it821x
  * Blackfin arch: update ANOMALY handling
  * Blackfin arch: update printk to use KERN_EMERG and reformat crash
    output
  * Blackfin arch: add missing braces around array bfin serial init
  * Blackfin arch: match kernel startup messaage with new linker script
  * Blackfin arch: move cond_syscall() behind __KERNEL__ like all other
    architectures
  * Blackfin arch: Add definition of dma_mapping_error
  * Blackfin arch: add proper const volatile to addr argument to the read
    functions
  * [AGPGART] intel_agp: don't load if no IGD and AGP port
  * IB/umem: Fix possible hang on process exit
  * IPoIB/cm: Initialize RX before moving QP to RTR
  * IPoIB/cm: Fix interoperability when MTU doesn't match
  * IPoIB/cm: Remove dead definition of struct ipoib_cm_id
  * IB/mlx4: Correct max_srq_wr returned from mlx4_ib_query_device()
  * [PARISC] stop lcd driver from stripping initial whitespace
  * [PARISC] Handle wrapping in expand_upwards()
  * [PARISC] Fix unwinder on 64-bit kernels
  * [PARISC] unwinder improvements
  * page_mapping must avoid slub pages
  * posix-timers: Prevent softirq starvation by small intervals and SIG_IGN
  * Allow DEBUG_RODATA and KPROBES to co-exist
  * [NETFILTER]: nf_conntrack_sip: add missing message types containing RTP
    info
  * [NETFILTER]: nfctnetlink: Don't allow to change helper
  * [IPV6] NDISC: Fix thinko to control Router Preference support.
  * [IPV4]: include sysctl.h from inetdevice.h
  * i386: Make CMPXCHG64 only dependent on PAE
  * x86_64: Fix only make Macintosh drivers default on Macs
  * x86_64: Ignore compat mode SYSCALL when IA32_EMULATION is not defined
  * [AVR32] Fix bug in invalidate_dcache_region()
  * [AVR32] NGW100, Remove relics of the old USART mapping scheme
  * [AVR32] Initialize dma_mask and dma_coherent_mask
  * [AVR32] Update defconfigs
  * ACPI: fix 2.6.20 SMP boot regression
  * [SKBUFF]: Fix incorrect config #ifdef around skb_copy_secmark
  * [TIPC]: Fix infinite loop in netlink handler
  * [PPP]: Revert 606f585e363527da9feaed79465132c0c661fd9e
  * [PPP]: Fix osize too small errors when decoding mppe.
  * [TCP] tcp_read_sock: Allow recv_actor() return return negative error
    value.
  * [NET]: Re-enable irqs before pushing pending DMA requests
  * [NET]: Make skb_seq_read unmap the last fragment
  * hwmon/coretemp: fix a broken error path
  * fix refcounting of nsproxy object when unshared
  * console UTF-8 fixes (fix)
  * SM501: suspend support
  * SM501: initialise SDRAM clock before bus clocks
  * SM501: Fix sm501_init_reg() mask/set order
  * SM501: Clock updates and checks
  * SM501: Add Documentation/SM501.txt
  * SM501: Check SM501 ID register on initialisation
  * SLUB: fix behavior if the text output of list_locations overflows
    PAGE_SIZE
  * sched: fix next_interval determination in idle_balance()
  * update checkpatch.pl to version 0.05
  * alpha: fix alignment problem in csum_ipv6_magic()
  * Char: stallion, fix oops during init with ISA cards
  * uml: use generic BUG
  * uml: add asm/paravirt.h
  * "volatile considered harmful"
  * document nlink function
  * slab allocators: MAX_ORDER one off fix
  * update checkpatch.pl to version 0.06
  * x86_64: fix misplaced `continue' in mce.c
  * ext2: disallow setting xip on remount
  * audit: fix oops removing watch if audit disabled
  * ext3: lost brelse in ext3_read_inode()
  * ext4: lost brelse in ext4_read_inode()
  * ACPI: preserve the ebx value in acpi_copy_wakeup_routine
  * FUTEX: Restore the dropped ERSCH fix
  * Linus 2.6.22-rc6
  * [ARM] 4452/1: Force the literal pool dump before reloc_end
  * [ARM] 4449/1: more entries in arch/arm/boot/.gitignore
  * fix nmi_watchdog=2 bootup hang
  * [POWERPC] Update g5_defconfig
  * [POWERPC] Update defconfigs
  * [POWERPC] Fix VDSO gettimeofday() when called with NULL struct timeval
  * [POWERPC] Fix subtle FP state corruption bug in signal return on SMP
  * USB: g_file_storage: call allow_signal()
  * USB: ti serial driver sleeps with spinlock held
  * USB: memory leak in iowarrior.c
  * USB: usblcd doesn't limit memory consumption during write
  * USB: fix race leading to use after free in io_edgeport
  * USB: add new device id to option driver
  * USB: ftdio_sio: New IPlus device ID
  * [MIPS] __ucmpdi2 arguments are unsigned long long.
  * [MIPS] add io_map_base to pci_controller on Cobalt
  * [MIPS] remove "support for" from system type entry
  * [MIPS] Alchemy: Fix wrong cast
  * [MIPS] Fix pb1500 reg B access
  * [MIPS] AP/SP requires shadow registers, auto enable support.
  * [MIPS] 20K: Handle WAIT related bugs according to errata information
  * [MIPS] use compat_siginfo in rt_sigframe_n32
  * [MIPS] Remove a duplicated local variable in test_and_clear_bit()
  * [MIPS] EMMA2RH: Disable GEN_RTC, it can't possibly work.
  * [MIPS] SMTC and non-SMTC kernel and modules are incompatible
  * [MIPS] Count timer interrupts correctly.
  * x86_64: set the irq_chip name for lapic
  * x86_64 irq: use mask/unmask and proper locking in fixup_irqs()
  * [SPARC64]: Add irqs to mdesc_node.
  * [SPARC64]: Fix VIRQ enabling.
  * [SPARC64]: Need to set state to IDLE during sun4v IRQ enable.
  * [SPARC64]: Add LDOM virtual channel driver and VIO device layer.
  * [SPARC64]: Add Sun LDOM virtual network driver.
  * [SPARC64]: Add Sun LDOM virtual disk driver.
  * [SPARC64]: Create proper obppath sysfs files for VIO bus devices.
  * [SPARC64] LDC: Do limited polled retry on setting RX queue head.
  * [GFS2] Fix gfs2_block_truncate_page err return
  * [DLM] Telnet to port 21064 can stop all lockspaces
  * [GFS2] inode size inconsistency
  * [GFS2] remounting w/o acl option leaves acls enabled
  * [GFS2] System won't suspend with GFS2 file system mounted
  * [GFS2] git-gfs2-nmw-build-fix
  * [GFS2] Obtaining no_formal_ino from directory entry
  * [GFS2] Remove i_mode passing from NFS File Handle
  * [SUNVNET]: Validate RX descriptor size field.
  * [SPARC64]: Add missing symbol exports for LDOM infrastructure.
  * [SPARC64]: Temporary workaround for LDC INO double-delivery.
  * [SPARC64]: Create 'devspec' nodes for vio devices.
  * [SPARC64]: vdev->type can be NULL, handle this in devspec_show().

 -- Amit Kucheria <amit.kucheria@ubuntu.com>  Mon, 09 Jul 2007 12:55:56 +0300

linux-source-2.6.22 (2.6.22-7.14) gutsy; urgency=low

  [Ben Collins]

  * build/vars: Provide ivtv-modules
  * Bump ABI
  * ubuntu/config: Enable Intermediate Functional Block device
  * coredump: Fix typo in patch merge
  * ubuntu/scripts: Make sure to symlink *.lds for ia64 builds
  * ubuntu/config: Enable NO_HZ for server and sparc64 targets.
  * ubuntu/config: Remove bigiron target, see if anyone complains
  * ubuntu: Ok, really remove bigiron
  * ubuntu/control-scripts: Fo sho, remove the debconf stuff from controls
    scripts
  * AppArmor: Enable exports and changes for AppArmor usage
  * ubuntu: Add feisty changelog for historical purposes.

  [Colin Watson]

  * Move isofs to storage-core-modules udeb from fs-core-modules.

  [Upstream Kernel Changes]

  * [MTD] [MAPS] don't force uclinux mtd map to be root dev
  * [MTD] generalise the handling of MTD-specific superblocks
  * [SCSI] zfcp: avoid clutter in erp_dbf
  * [SCSI] zfcp: IO stall after deleting and path checker changes after
    reenabling zfcp devices
  * [SCSI] ipr: Proper return codes for eh_dev_reset for SATA devices
  * [SCSI] stex: fix id mapping issue
  * [SCSI] stex: extend hard reset wait time
  * [SCSI] stex: fix reset recovery for console device
  * [SCSI] stex: minor cleanup and version update
  * [SCSI] MegaRAID: Update MAINTAINERS email-id
  * [SCSI] tgt: fix a rdma indirect transfer error bug
  * [SCSI] NCR53C9x: correct spelling mistake in deprecation notice
  * [SCSI] aacraid: Correct sa platform support. (Was: [Bug 8469] Bad EIP
    value on pentium3 SMP kernel-2.6.21.1)
  * [SCSI] aacraid: fix panic on short Inquiry
  * [WATCHDOG] ks8695_wdt.c - new KS8695 watchdog driver
  * [JFFS2] Fix BUG() caused by failing to discard xattrs on deleted files.
  * [JFFS2] Fix potential memory leak of dead xattrs on unmount.
  * [SCSI] sd: fix refcounting regression in suspend/resume routines
  * [SCSI] aacraid: apply commit config for reset_devices flag
  * [SCSI] aic7xxx: fix aicasm build failure with gcc-3.4.6
  * [SCSI] aic94xx: asd_clear_nexus should fail if the cleared task does
    not complete
  * [SCSI] fusion: Fix |/|| confusion
  * parisc: make command_line[] static
  * parisc: sync compat getdents
  * [PARISC] Move #undef to end of syscall table
  * [PARISC] Wire up kexec_load syscall
  * parisc: convert /proc/gsc/pcxl_dma to seq_file
  * [PARISC] Let PA-8900 processors boot
  * [PARISC] Disable LWS debugging
  * [PARISC] spelling fixes: arch/parisc/
  * sh: section mismatch fixes for system timer.
  * [PARISC] ROUND_UP macro cleanup in arch/parisc
  * [PARISC] ROUNDUP macro cleanup in drivers/parisc
  * [PPC] Fix COMMON symbol warnings
  * [PPC] Remove duplicate export of __div64_32.
  * [POWERPC] 52xx: unbreak lite5200 dts (_pic vs. -pic)
  * [POWERPC] QE: fix Kconfig 'select' warning with UCC_FAST
  * [POWERPC] Fix Section mismatch warnings
  * [POWERPC] Fix modpost warning
  * [PPC] Fix modpost warning
  * [CIFS] Fix oops on failed cifs mount (in kthread_stop)
  * [POWERPC] Fix Kconfig warning
  * [CIFS] typo in previous patch
  * [SCSI] megaraid_sas: intercept cmd timeout and throttle io
  * [WATCHDOG] clean-up watchdog documentation
  * drm: Spinlock initializer cleanup
  * drm/radeon: add more IGP chipset pci ids
  * drm: make sure the drawable code doesn't call malloc(0).
  * [PARISC] kobject is embedded in subsys, not kset
  * [PARISC] Build fixes for power.c
  * [ARM] 4401/1: S3C2443: Add definitions for port GPIOJ
  * [ARM] 4402/1: S3C2443: Add physical address of HSMMC controller
  * [ARM] 4403/1: Make the PXA-I2C driver work with lockdep validator
  * [ARM] 4404/1: Trivial IXP42x Kconfig cleanup
  * [ARM] 4405/1: NSLU2, DSM-G600 frequency fixup code
  * [ARM] 4406/1: Trivial NSLU2 / NAS-100D header & setup code cleanup
  * [ARM] remove unused header file: arch/arm/mach-s3c2410/bast.h
  * [PARISC] fix lasi_82596 build
  * [PARISC] fix section mismatch in parport_gsc
  * [PARISC] fix section mismatch in parisc STI video drivers
  * [PARISC] fix section mismatch in ccio-dma
  * [PARISC] fix section mismatches in arch/parisc/kernel
  * [PARISC] fix section mismatch in parisc eisa driver
  * [PARISC] fix section mismatch in superio serial drivers
  * [PARISC] Wire up utimensat/signalfd/timerfd/eventfd syscalls
  * hwmon/ds1621: Fix swapped temperature limits
  * hwmon/coretemp: Add more safety checks
  * hwmon/w83627hf: Be quiet when no chip is found
  * hwmon-vid: Don't spam the logs when VRM version is missing
  * hwmon/applesmc: Simplify dependencies
  * hwmon/applesmc: Handle name file creation error and deletion
  * ieee1394: sbp2: include workqueue.h
  * ieee1394: eth1394: remove bogus netif_wake_queue
  * ieee1394: eth1394: handle tlabel exhaustion
  * ieee1394: eth1394: bring back a parent device
  * ieee1394: raw1394: Fix async send
  * firewire: Add missing byteswapping for receive DMA programs.
  * firewire: prefix modules with firewire- instead of fw-
  * firewire: fix return code
  * [libata] Add drive to NCQ blacklist
  * [ARM] enable arbitary speed tty ioctls and split input/output speed
  * Input: db9 - do not ignore dev2 module parameter
  * Input: logips2pp - fix typo in Kconfig
  * [XFS] Write at EOF may not update filesize correctly.
  * [SCSI] pluto: Use wait_for_completion_timeout.
  * [SPARC64]: Kill unused DIE_PAGE_FAULT enum value.
  * [SPARC64]: Don't be picky about virtual-dma values on sun4v.
  * [SPARC32]: Removes mismatch section warnigs in sparc time.c file
  * [SERIAL] sunzilog: section mismatch fix
  * [SPARC64]: PCI device scan is way too verbose by default.
  * [SCSI] jazz_esp: Converted to use esp_core.
  * [SCSI] ESP: Kill SCSI_ESP_CORE and link directly just like jazz_esp
  * [SPARC64]: Fix typo in sun4v_hvapi_register error handling.
  * [SPARC64]: Report proper system soft state to the hypervisor.
  * [SPARC64]: Negotiate hypervisor API for PCI services.
  * [SPARC64]: Use machine description and OBP properly for cpu probing.
  * [SPARC64]: Eliminate NR_CPUS limitations.
  * [SPARC64]: arch/sparc64/time.c doesn't compile on Ultra 1 (no PCI)
  * [SPARC]: Linux always started with 9600 8N1
  * [SPARC64]: Fix _PAGE_EXEC_4U check in sun4u I-TLB miss handler.
  * [SPARC]: Emulate cmpxchg like parisc
  * [SPARC]: Mark as emulating cmpxchg, add appropriate depends for DRM.
  * [SPARC64]: Fix two bugs wrt. kernel 4MB TSB.
  * [SPARC64]: Fill holes in hypervisor APIs and fix KTSB registry.
  * mac80211: fail back to use associate from reassociate
  * mac80211: fix memory leak when defrag fragments
  * mac80211: always set carrier status on open
  * mac80211: avoid null ptr deref in ieee80211_ibss_add_sta
  * prism54: fix monitor mode oops
  * ieee80211: fix incomplete error message
  * softmac: alloc_ieee80211() NULL check
  * hostap: Allocate enough tailroom for TKIP
  * sparc64: fix alignment bug in linker definition script
  * USB: replace flush_workqueue with cancel_sync_work
  * ACPICA: allow Load(OEMx) tables
  * ACPI: thermal: Replace pointer with name in trip_points
  * ACPI: extend "acpi_osi=" boot option
  * IB/mthca: Fix handling of send CQE with error for QPs connected to SRQ
  * IPoIB/cm: Fix performance regression on Mellanox
  * IB/cm: Fix stale connection detection
  * IB/mlx4: Fix last allocated object tracking in bitmap allocator
  * NOHZ: prevent multiplication overflow - stop timer for huge timeouts
  * random: fix error in entropy extraction
  * random: fix seeding with zero entropy
  * ACPI: Make _OSI(Linux) a special case
  * ACPI: add __init to acpi_initialize_subsystem()
  * [PARISC] fix "ENTRY" macro redefinition
  * [PARISC] fix section mismatch in smp.c
  * [PARISC] remove remnants of parisc-specific softirq code
  * [PARISC] fix trivial spelling nit in asm/linkage.h
  * [PARISC] fix null ptr deref in unwind.c
  * [PARISC] fix "reduce size of task_struct on 64-bit machines" fallout
  * [PARISC] be more defensive in process.c::get_wchan
  * [ARM] use __used attribute
  * [ARM] Fix stacktrace FP range checking
  * [ARM] oprofile: avoid lockdep warnings on mpcore oprofile init
  * [ARM] 4411/1: KS8695: Another serial driver fix
  * [ARM] 4412/1: S3C2412: reset errata fix
  * [ARM] 4414/1: S3C2443: sparse fix for clock.c
  * [ARM] 4415/1: AML5900: fix sparse warnings from map_io
  * [ARM] 4416/1: NWFPE: fix undeclared symbols
  * [ARM] 4410/1: Remove extern declarations in coyote/ixdpg425-pci.c
  * [ARM] 4394/1: ARMv7: Add the TLB range operations
  * [ARM] 4417/1: Serial: Fix AMBA drivers locking
  * sky2: dont set bogus bit in PHY register
  * sky2: checksum offload plus vlan bug
  * sky2: program proper register for fiber PHY
  * defxx: Fix the handling of ioremap() failures
  * e1000: restore netif_poll_enable call but make sure IRQs are off
  * sky2: enable IRQ on duplex renegotiation
  * ehea: Fixed multi queue RX bug
  * [SCSI] fix CONFIG_SCSI_WAIT_SCAN=m
  * [SCSI] qla2xxx: fix timeout in qla2x00_down_timeout
  * [ARM] Fix some section mismatch warnings
  * alpha: cleanup in bitops.h
  * alpha: support new syscalls
  * fix possible null ptr deref in kallsyms_lookup
  * NFS: Fix a refcount leakage in O_DIRECT
  * a bug in ramfs_nommu_resize function, passing old size to vmtruncate
  * sh: Fix pcrel too far for in_nmi label.
  * sh: Trivial fix for dma-api compile failure.
  * sh: Fix vsyscall build failure.
  * sh: trivial build cleanups.
  * sh: support older gcc's
  * [ALSA] HDA: Add support for Gateway NX860
  * [ALSA] HDA: Add more systems to Sigmatel codec
  * [ALSA] HDA: Fix headphone mute issue on non-eapd Conexant systems
  * [ALSA] hda-codec - Add support for ASUS A8J modem
  * [ALSA] ali5451 - Fix possible NULL dereference
  * [ALSA] hda-intel: fix ASUS M2V detection
  * [ALSA] Fix ASoC s3c24xx-pcm spinlock bug
  * [ALSA] hda-codec - Add quirk for MSI S420
  * [ALSA] hda-codec - Add quirk for Supermicro PDSBA to alc883_cfg_tbl[]
  * [ALSA] hda-codec - Add support for MSI K9N Ultra
  * [ALSA] hda-codec - Fix pin configs for Gateway MX6453
  * [ALSA] hda-codec - Fix input with STAC92xx
  * [ALSA] hda-codec - Fix STAC922x capture boost level
  * [CRYPTO] cryptd: Fix problem with cryptd and the freezer
  * [CASSINI]: Fix printk message typo.
  * [XFRM]: Allow XFRM_ACQ_EXPIRES to be tunable via sysctl.
  * [XFRM]: xfrm_larval_drop sysctl should be __read_mostly.
  * [IPSEC]: Fix IPv6 AH calculation in outbound
  * [IPV6] ROUTE: No longer handle ::/0 specially.
  * [NET]: parse ip:port strings correctly in in4_pton
  * [IPSEC]: Fix panic when using inter address familiy IPsec on loopback.
  * [IPV4]: Kill references to bogus non-existent CONFIG_IP_NOSIOCRT
  * [AF_PACKET]: Kill bogus CONFIG_PACKET_MULTICAST
  * [IPV6]: Fix build warning.
  * [AF_PACKET]: Kill CONFIG_PACKET_SOCKET.
  * [SOCK]: Shrink struct sock by 8 bytes on 64-bit.
  * [TCP]: Consolidate checking for tcp orphan count being too big.
  * [NET] napi: Call __netif_rx_complete in netif_rx_complete
  * [IPV6] ADDRCONF: Fix conflicts in DEVCONF_xxx constant.
  * [TCP] tcp_probe: a trivial fix for mismatched number of printl
    arguments.
  * [TCP] tcp_probe: use GCC printf attribute
  * [BRIDGE]: Reduce frequency of forwarding cleanup timer in bridge.
  * [BRIDGE]: Round off STP perodic timers.
  * [IPSEC]: Add xfrm_sysctl.txt.
  * [SPARC64]: Add missing NCS and SVC hypervisor interfaces.
  * [SPARC32]: Build fix.
  * [SPARC]: Missing #include <linux/mm.h> in drivers/sbus/char/flash.c
  * [ALSA] version 1.0.14
  * neofb: Fix pseudo_palette array overrun in neofb_setcolreg
  * smpboot: fix cachesize comparison in smp_tune_scheduling()
  * at91: fix enable/disable_irq_wake symmetry in pcmcia driver
  * SLUB: More documentation
  * pci-quirks: fix MSI disabling on RS400-200 and RS480
  * ntfs_init_locked_inode(): fix array indexing
  * m68k: runtime patching infrastructure
  * SLUB: Fix NUMA / SYSFS bootstrap issue
  * afs: needs sched.h
  * m68k: discontinuous memory support
  * [S390] Add exception handler for diagnose 224
  * [S390] dasd_eer: use mutex instead of semaphore
  * [S390] arch/s390/kernel/debug.c: use mutex instead of semaphore
  * [S390] raw3270: use mutex instead of semaphore
  * [S390] Fix section annotations.
  * [S390] cio: Use device_schedule_callback() for removing disconnected
    devices.
  * [S390] cio: deregister ccw device when pgid disband failed
  * ACPI: thinkpad-acpi: do not use named sysfs groups
  * ieee1394: fix calculation of sysfs attribute "address"
  * ieee1394: sbp2: offer SAM-conforming target port ID in sysfs
  * firewire: fw-sbp2: implement sysfs ieee1394_id
  * firewire: add to MAINTAINERS
  * firewire: Implement suspend/resume PCI driver hooks.
  * firewire: Change struct fw_cdev_iso_packet to not use bitfields.
  * firewire: Install firewire-constants.h and firewire-cdev.h for
    userspace.
  * EXT4: Fix whitespace
  * Remove unnecessary exported symbols.
  * ext4: Extent overlap bugfix
  * When ext4_ext_insert_extent() fails to insert new blocks
  * Define/reserve new ext4 superblock fields
  * msi: fix ARM compile
  * PCI: disable MSI by default on systems with Serverworks HT1000 chips
  * PCI: Fix pci_find_present
  * PCI: i386: fixup for Siemens Nixdorf AG FSC Multiprocessor Interrupt
    Controllers
  * PCI: quirk disable MSI on via vt3351
  * [XTENSA] fix bit operations in bitops.h
  * [XTENSA] Spelling fixes in arch/xtensa
  * [XTENSA] fix sources using deprecated assembler directive
  * [XTENSA] Remove multi-exported symbols from xtensa_ksyms.c
  * [XTENSA] Use generic 64-bit division
  * [XTENSA] clean-up header files
  * [XTENSA] Move common sections into bss sections
  * [XTENSA] Remove non-rt signal handling
  * Xtensa: use asm-generic/fcntl.h
  * [JFFS2] Fix buffer length calculations in jffs2_get_inode_nodes()
  * Fix vmi.c compilation
  * x86_64: allocate sparsemem memmap above 4G
  * Add select PHYLIB to the UCC_GETH Kconfig option
  * Fix possible UDF data corruption
  * m68k: parenthesis balance
  * msi: fix the ordering of msix irqs
  * msi: mask the msix vector before we unmap it
  * potential parse error in ifdef
  * parse errors in ifdefs
  * pci_ids: update patch for Intel ICH9M
  * x86: fix oprofile double free
  * Work around Dell E520 BIOS reboot bug
  * fix compat futex code for private futexes
  * skeletonfb: fix of xxxfb_setup ifdef
  * vt8623fb: arkfb: null pointer dereference fix
  * cfag12864bfb: Use sys_ instead of cfb_ framebuffer accessors
  * fbdev: Move declaration of fb_class to <linux/fb.h>
  * misc/tifm_7xx1: replace deprecated irq flag
  * add a trivial patch style checker
  * Documentation: How to use GDB to decode OOPSes
  * RTC: use fallback IRQ if PNP tables don't provide one
  * memory hotplug: fix unnecessary calling of init_currenty_empty_zone()
  * tty: fix leakage of -ERESTARTSYS to userland
  * ISDN4Linux: fix maturity label
  * Fix broken CLIR in isdn driver
  * prism54: MAINTAINERS update
  * atmel_spi dma address bugfix
  * h8300 trival patches
  * ALPHA: support graphics on non-zero PCI domains
  * ALPHA: correct low-level I/O routines for sable-lynx
  * ALPHA: misc fixes
  * Better documentation for ERESTARTSYS
  * serial_core.h: include <linux/sysrq.h>
  * SPI: Freescale iMX SPI controller driver fixes
  * SLUB: fix locking for hotplug callbacks
  * pm3fb: switching between X and fb fix
  * microcode: fix section mismatch warning
  * isdn: fix section mismatch warnings
  * acpi: fix section mismatch warning in asus + toshiba
  * kvm: fix section mismatch warning in kvm-intel.o
  * net/hp100: fix section mismatch warning
  * timer statistics: fix race
  * timer stats: speedups
  * [SCSI] aacraid: fix shutdown handler to also disable interrupts.
  * [MTD] Fix error checking after get_mtd_device() in get_sb_mtd functions
  * [JFFS2] Fix obsoletion of metadata nodes in jffs2_add_tn_to_tree()
  * ACPI: Section mismatch ... acpi_map_pxm_to_node
  * ACPICA: Support for external package objects as method arguments
  * Pull now into release branch
  * Pull osi-now into release branch
  * [POWERPC] Update documentation for of_find_node_by_type()
  * [POWERPC] Fix ppc32 single-stepping out of syscalls
  * [POWERPC] Fix compiler/assembler flags for Ebony platform boot files
  * [POWERPC] Fix possible access to free pages
  * [POWERPC] ps3/interrupt.c uses get_hard_smp_processor_id
  * [POWERPC] pasemi idle uses hard_smp_processor_id
  * [POWERPC] Create a zImage for legacy iSeries
  * [POWERPC] Don't use HOSTCFLAGS in BOOTCFLAGS
  * [POWERPC] Fix compile warning in pseries xics code
  * [POWERPC] Fix return from pte_alloc_one() in out-of-memory case
  * [POWERPC] Compare irq numbers with NO_IRQ not IRQ_NONE
  * [POWERPC] Don't allow PMAC_APM_EMU for 64-bit
  * [POWERPC] Fix compile breakage for IBM/AMCC 4xx arch/ppc platforms
  * [POWERPC] Fix zImage.coff generation for 32-bit pmac
  * [ARM] 4392/2: Do not corrupt the SP register in compressed/head.S
  * [ARM] 4418/1: AT91: Number of programmable clocks differs
  * [ARM] 4419/1: AT91: SAM9 USB clocks check for suspending
  * [ARM] 4422/1: Fix default value handling in gpio_direction_output (PXA)
  * [ARM] Solve buggy smp_processor_id() usage
  * qla3xxx: device doesnt do hardware checksumming.
  * VLAN: kill_vid is only useful for VLAN filtering devices
  * sky2: Fix VLAN unregistration
  * 8139cp: fix VLAN unregistration
  * atl1: eliminate unneeded kill_vid code
  * network drivers: eliminate unneeded kill_vid code
  * e1000: disable polling before registering netdevice
  * smc91x: sh solution engine fixes.
  * Update tulip maintainer email address
  * NetXen: Removal of extra free_irq call
  * myri10ge: report link up/down in standard ethtool way
  * NET: add MAINTAINERS entry for ucc_geth driver
  * [ARM] 4421/1: AT91: Value of _KEY fields.
  * [PARISC] Fix bug when syscall nr is __NR_Linux_syscalls
  * [AF_UNIX]: Make socket locking much less confusing.
  * [TG3]: Fix link problem on Dell's onboard 5906.
  * [AF_UNIX]: Fix datagram connect race causing an OOPS.
  * [TCP]: Use default 32768-61000 outgoing port range in all cases.
  * [ATM]: Fix warning.
  * [NET]: Make net watchdog timers 1 sec jiffy aligned.
  * [NET]: Fix comparisons of unsigned < 0.
  * [TCP]: Fix GSO ignorance of pkts_acked arg (cong.cntrl modules)
  * [NET] gso: Fix GSO feature mask in sk_setup_caps
  * [IPV4]: Fix "ipOutNoRoutes" counter error for TCP and UDP
  * [ICMP]: Fix icmp_errors_use_inbound_ifaddr sysctl
  * [VIDEO]: XVR500 and XVR2500 require FB=y
  * [ATA]: Don't allow to enable this for SPARC64 without PCI.
  * sh: Fix in_nmi symbol build error.
  * sh: microdev: Fix compile warnings.
  * sh: Fix SH4-202 clock fwk set_rate() mismatch.
  * sh: voyagergx: Fix build warnings.
  * sh: ioremap() through PMB needs asm/mmu.h.
  * sh: Fix se73180 platform device registration.
  * Input: ucb1x00 - do not access input_dev->private directly
  * Input: reduce raciness when input handlers disconnect
  * [PARISC] Fix kernel panic in check_ivt
  * [SCSI] atari_NCR5380: update_timeout removal
  * [SCSI] JAZZ ESP and SUN ESP need SPI_ATTRS
  * [CIFS] fix mempool destroy done in wrong order in cifs error path
  * SPI dynamic busid generation bugfix
  * mtrr atomicity fix
  * vanishing ioctl handler debugging
  * libata: always use polling SETXFER
  * Linux 2.6.22-rc4
  * [SPARC64]: Move topology init code into new file, sysfs.c
  * [SPARC64]: Export basic cpu properties via sysfs.
  * [SPARC64]: Fix service channel hypervisor function names.
  * [SPARC64]: Provide mmu statistics via sysfs.
  * [SPARC64]: Proper multi-core scheduling support.
  * [SPARC64]: Make core and sibling groups equal on UltraSPARC-IV.
  * [SPARC64]: Fix {mc,smt}_capable().
  * [SPARC64]: Fill in gaps in non-PCI dma_*() NOP implementation.
  * [ATA]: Back out bogus (SPARC64 && !PCI) Kconfig depends.
  * [VIDEO]: Fix section mismatch warning in promcon.
  * [CIFS] whitespace cleanup
  * [ARM] Fix 4417/1: Serial: Fix AMBA drivers locking
  * [VIDEO] ffb: The pseudo_palette is only 16 elements long
  * [ARM] pxa: fix pxa27x keyboard driver
  * [VIDEO] sunxvr2500fb: Fix pseudo_palette array size
  * [VIDEO] sunxvr500fb: Fix pseudo_palette array size
  * [CIFS] whitespace cleanup part 2
  * [CIFS] Missing flag on negprot needed for some servers to force packet
    signing
  * [MIPS] Atlas, Malta, SEAD: Remove scroll from interrupt handler.
  * [MIPS] Remove duplicate fpu enable hazard code.
  * [MIPS] EMMA2RH: remove dead KGDB code
  * [MIPS] RM300: Fix MMIO problems by marking the PCI INT ACK region busy
  * [MIPS] Fix VGA corruption on RM300C
  * [MIPS] Drop __ARCH_WANT_SYS_FADVISE64
  * [MIPS] Make dma_map_sg handle sg elements which are longer than one
    page
  * [MIPS] Fix some system calls with long long arguments
  * [MIPS] Remove prototype for deleted function qemu_handle_int
  * [MIPS] Fix some minor typoes in arch/mips/Kconfig.
  * [MIPS] Fix warning by moving do_default_vi into CONFIG_CPU_MIPSR2_SRS
  * [AGPGART] intel_agp: cleanup intel private data
  * [AGPGART] intel_agp: use table for device probe
  * [AGPGART] intel_agp: add support for 965GME/GLE
  * [AGPGART] intel_agp: add support for 945GME
  * [AGPGART] intel_agp: Add support for G33, Q33 and Q35 chipsets
  * ocfs2: Fix masklog breakage
  * ocfs2: Fix invalid assertion during write on 64k pages
  * [POWERPC] pasemi: Fix iommu + 64K PAGE_SIZE bug
  * [POWERPC] spufs: Refuse to load the module when not running on cell
  * [POWERPC] spufs: Hook up spufs_release_mem
  * [POWERPC] spufs: Fix gang destroy leaks
  * [POWERPC] spufs: Free mm if spufs_fill_dir() failed
  * [POWERPC] spufs: Synchronize pte invalidation vs ps close
  * [POWERPC] spufs scheduler: Fix wakeup races
  * [POWERPC] Fix pci_setup_phb_io_dynamic for pci_iomap
  * [POWERPC] cbe_cpufreq: Limit frequency via cpufreq notifier chain
  * [POWERPC] scc_sio: Fix link failure
  * [POWERPC] Fix typo in booting-without-of-txt section numbering
  * [POWERPC] spufs: Don't yield nosched context
  * [POWERPC] Add table of contents to booting-without-of.txt
  * [POWERPC] spufs: Fix error handling in spufs_fill_dir()
  * mmc-atmel: remove linux/mmc/protocol.h dependencies
  * au1xmmc: Replace C code with call to ARRAY_SIZE() macro.
  * mmc: fix broken if clause
  * mmc: don't call switch on old cards
  * [POWERPC] Fix building of COFF zImages
  * checkpatch.pl: should be executable
  * Restrict clearing TIF_SIGPENDING
  * mlx4_core: Fix CQ context layout
  * mlx4_core: Initialize ctx_list and ctx_lock earlier
  * mlx4_core: Free catastrophic error MSI-X interrupt with correct dev_id
  * IB/mthca, mlx4_core: Fix typo in comment
  * [BNX2]: Fix netdev watchdog on 5708.
  * [BNX2]: Add missing wait in bnx2_init_5709_context().
  * [BNX2]: Enable DMA on 5709.
  * [BNX2]: Fix occasional counter corruption on 5708.
  * [BNX2]: Update version and reldate.
  * [TCP]: Honour sk_bound_dev_if in tcp_v4_send_ack
  * [IPV4]: Only panic if inetdev_init fails for loopback
  * [IPV4]: Convert IPv4 devconf to an array
  * [IPV4]: Add default config support after inetdev_init
  * [IPV4]: Restore old behaviour of default config values
  * [RFKILL]: Make rfkill->name const
  * [TCP]: Use LIMIT_NETDEBUG in tcp_retransmit_timer().
  * [TCP] tcp_probe: Attach printf attribute properly to printl().
  * [NETLINK]: Mark netlink policies const
  * [RTNETLINK]: ifindex 0 does not exist
  * [NETFILTER]: nf_conntrack: fix helper module unload races
  * [NETFILTER]: ip_tables: fix compat related crash
  * [NETFILTER]: nf_conntrack_amanda: fix textsearch_prepare() error check
  * [AF_UNIX]: Fix stream recvmsg() race.
  * [UDP]: Revert 2-pass hashing changes.
  * [NET]: Avoid duplicate netlink notification when changing link state
  * [NET_SCHED]: Fix filter double free
  * xfrm: Add security check before flushing SAD/SPD
  * [SPARC64]: Fix 2 bugs in PCI Sabre bus scanning.
  * [SPARC64]: Fix SBUS IRQ regression caused by PCI-E driver.
  * frv: build fix
  * enable interrupts in user path of page fault.
  * RAMFS NOMMU: missed POSIX UID/GID inode attribute checking
  * [SPARC64]: Include <linux/rwsem.h> instead of <asm/rwsem.h>.
  * [SPARC64]: Handle PCI bridges without 'ranges' property.
  * mlx4_core: Check firmware command interface revision
  * mlx4_core: Don't set MTT address in dMPT entries with PA set
  * IB/mlx4: Fix zeroing of rnr_retry value in ib_modify_qp()
  * RDMA/cma: Fix initialization of next_port
  * IB/mlx4: Make sure RQ allocation is always valid
  * splice: move inode size check into generic_file_splice_read()
  * splice: remove do_splice_direct() symbol export
  * pipe: move pipe_inode_info structure decleration up before it's used
  * splice: move balance_dirty_pages_ratelimited() outside of splice actor
  * splice: __generic_file_splice_read: fix i_size_read() length checks
  * splice: __generic_file_splice_read: fix read/truncate race
  * V4L/DVB (5702): Fix Kconfig items to avoid linkedition errors
  * V4L/DVB (5700): Saa7111: fix picture settings cache bug
  * V4L/DVB (5699): Cinergyt2: fix file release handler
  * V4L/DVB (5675): Move big PIO accesses from the interrupt handler to a
    workhandler
  * V4L/DVB (5716): Tda10086,tda826x: fix tuning, STR/SNR values
  * V4L/DVB (5720): Usbvision: fix urb allocation and submits
  * V4L/DVB (5730): Remove unused V4L2_CAP_VIDEO_OUTPUT_POS
  * V4L/DVB (5732): Add ivtv CROPCAP support and fix ivtv S_CROP for video
    output.
  * V4L/DVB (5736): Add V4L2_FBUF_CAP/FLAG_LOCAL/GLOBAL_INV_ALPHA
  * V4L/DVB (5673): Fix audio stuttering for saa711x/ivtv when in radio
    mode.
  * V4L/DVB (5761): Fix broken b2c2 dependency on non x86 architectures
  * V4L/DVB (5751): Ivtv: fix ia64 printk format warnings.
  * serverworks: remove crappy code
  * serverworks: fix CSB6 tuning logic
  * it821x: RAID mode fixes
  * ide: HPA detect from resume
  * ide: generic IDE PCI driver, add another device exception
  * hpt366: disallow Ultra133 for HPT374
  * Add the PATA controller device ID to pci_ids.h for MCP73/MCP77.
  * ide: Add the MCP73/77 support to PATA driver
  * [CIFS] CIFS should honour umask
  * update Documentation/driver-model/platform.txt
  * Driver core: keep PHYSDEV for old struct class_device
  * Driver core: kill unused code
  * kobject: use the proper printk level for kobject error
  * firmware: remove orphaned Email
  * [IPV4]: Do not remove idev when addresses are cleared
  * [NetLabel]: consolidate the struct socket/sock handling to just struct
    sock
  * [CIPSO]: Fix several unaligned kernel accesses in the CIPSO engine.
  * USB: set default y for CONFIG_USB_DEVICE_CLASS
  * usblp: Don't let suspend to kill ->used
  * USB: usb gadgets avoid le{16,32}_to_cpup()
  * USB: UNUSUAL_DEV: Sync up some reported devices from Ubuntu
  * USB: cxacru: add Documentation file
  * USB: cxacru: create sysfs attributes in atm_start instead of bind
  * USB: cxacru: ignore error trying to start ADSL in atm_start
  * USB: Fix up bogus bInterval values in endpoint descriptors
  * OHCI: Fix machine check in ohci_hub_status_data
  * update checkpatch.pl to version 0.03
  * m68knommu: fix ColdFire timer off by 1
  * nommu: report correct errno in message
  * loop: preallocate eight loop devices
  * document Acked-by:
  * update feature-removal-schedule.txt to include deprecated functions
  * mount -t tmpfs -o mpol=: check nodes online
  * slab: fix alien cache handling
  * potential parse error in ifdef part 3
  * SLUB: return ZERO_SIZE_PTR for kmalloc(0)
  * uml: fix kernel stack size on x86_64
  * Documentation/atomic_ops.txt typo fix
  * Move three functions that are only needed for CONFIG_MEMORY_HOTPLUG
  * Char: stallion, don't fail with less than max panels
  * Char: stallion, alloc tty before pci devices init
  * Char: stallion, proper fail return values
  * uml: get declaration of simple_strtoul
  * isdn/diva: fix section mismatch
  * sata_promise: use TF interface for polling NODATA commands
  * rt-mutex: fix stale return value
  * rt-mutex: fix chain walk early wakeup bug
  * pi-futex: fix exit races and locking problems
  * fix sysrq-m oops
  * x86_64: oops_begin() fix
  * reiserfs: mailing list has moved
  * checkpatch: produce fewer lines of output
  * MAINTAINERS: corrections
  * hexdump: more output formatting
  * update checkpatch.pl to version 0.04
  * Protect <linux/console_struct.h> from multiple inclusion
  * [IrDA]: Fix Rx/Tx path race.
  * [IrDA]: f-timer reloading when sending rejected frames.
  * ibmveth: Fix h_free_logical_lan error on pool resize
  * ibmveth: Automatically enable larger rx buffer pools for larger mtu
  * typo in via-velocity.c
  * NetXen: Fix ping issue after reboot on Blades with 3.4.19 firmware
  * NetXen: Fix compile failure seen on PPC architecture
  * ehea: Fixed possible kernel panic on VLAN packet recv
  * phylib: add RGMII-ID mode to the Marvell m88e1111 PHY to fix broken
    ucc_geth
  * net: fix typo in drivers/net/usb/Kconfig
  * remove unused variable in pata_isapnp
  * libata: disable NCQ for HITACHI HTS541680J9SA00/SB21C7EP
  * libata: fix probe time irq printouts
  * libata: print device model and firmware revision for ATAPI devices
  * libata: fix hw_sata_spd_limit initialization
  * ahci: Add MCP73/MCP77 support to AHCI driver
  * libata-core/sff: Fix multiple assumptions about DMA
  * libata: Correct abuse of language
  * libata passthru: update protocol numbers
  * libata passthru: support PIO multi commands
  * libata passthru: map UDMA protocols
  * libata passthru: always enforce correct DEV bit
  * libata passthru: update cached device paramters
  * i915: add new pciids for 945GME, 965GME/GLE
  * drm/i915:  Add support for the G33, Q33, and Q35 chipsets.
  * drm: fix radeon setparam on 32/64 bit systems.
  * [ARM] VFP: fix section mismatch error
  * libata: force PIO on IOMEGA ZIP 250 ATAPI
  * libata: limit post SRST nsect/lbal wait to ~100ms
  * Blackfin arch: remove defconfig file
  * Blackfin arch: DMA code minor naming convention fix
  * Blackfin arch: spelling fixes
  * Blackfin arch:  fix bug ad1836 fails to build properly for BF533-EZKIT
  * Blackfin arch: all symbols were offset by 4k, since we didn't have the
    __text label.
  * Blackfin arch: mark our memory init functions with __init so they get
    freed after init
  * Blackfin arch: implement a basic /proc/sram file for L1 allocation
    visibility
  * Blackfin arch: fixup Blackfin MAINTIANERS team member list
  * Blackfin arch: scrub old console defines
  * Blackfin arch: update defconfigs
  * Blackfin arch: unify differences between our diff head.S files -- no
    functional changes
  * Blackfin arch: move more of our startup code to .init so it can be
    freed once we are up and running
  * Blackfin arch: add proper ENDPROC()
  * Blackfin arch: try to split up functions like this into smaller units
    according to LKML review
  * Blackfin arch: fix spelling typo in output
  * Blackfin arch: As Mike pointed out range goes form m..MAX_BLACKFIN_GPIO
    -1
  * Blackfin arch: add missing gpio.h header to fix compiling in some pm
    configurations
  * Blackfin arch: add support for Alon Bar-Lev's dynamic kernel
    command-line
  * Blackfin arch: fix bug can not wakeup from sleep via push buttons
  * Blackfin arch: make sure we initialize our L1 Data B section properly
    based on the linked kernel
  * Blackfin arch: redo our linker script a bit
  * Blackfin arch: move HI/LO macros into blackfin.h and punt the rest of
    macros.h as it includes VDSP macros we never use
  * Blackfin serial driver: hook up our UARTs STP bit with userspaces
    CMSPAR
  * Blackfin serial driver: ignore framing and parity errors
  * Blackfin serial driver: actually implement the break_ctl() function
  * Blackfin serial driver: decouple PARODD and CMSPAR checking from PARENB
  * Blackfin RTC drivers: update MAINTAINERS information
  * Blackfin SPI driver: tweak spi cleanup function to match newer kernel
    changes
  * [ARM] 4442/1: OSIRIS: Fix CPLD register definitions
  * [ARM] 4443/1: OSIRIS: Add watchdog device to machine devices
  * [ARM] 4444/2: OSIRIS: CPLD suspend fix
  * [ARM] 4445/1: ANUBIS: Fix CPLD registers
  * Blackfin SPI driver: fix bug SPI DMA incomplete transmission
  * Blackfin SMC91X ethernet supporting driver: SMC91C111 LEDs are note
    drived in the kernel like in uboot
  * [MIPS] Fix KMODE for the R3000
  * [MIPS] SMTC: Don't set and restore irqregs ptr from self_ipi.
  * [MIPS] Always install the DSP exception handler.
  * [MIPS] Atlas: Fix build.
  * [MIPS] Wire up utimensat, signalfd, timerfd, eventfd
  * [MIPS] SMTC: Fix warning.
  * [MIPS] SMTC: Don't continue in set_vi_srs_handler on detected bad
    arguments.
  * [MIPS] SMTC: The MT ASE requires to initialize c0_pagemask and
    c0_wired.
  * [MIPS] SMTC: Fix build error caused by nonsense code.
  * [MIPS] Fix modpost warnings by making start_secondary __cpuinit
  * [MIPS] Fix IP27 build
  * [MIPS] Fix smp barriers in test_and_{change,clear,set}_bit
  * libertas: scan two channels per scan command
  * libertas: rename wlan_association_worker
  * libertas: a debug output was missing a newline
  * libertas: fix removal of all debugfs files
  * libertas: remove deprecated pm_register and associated code
  * libertas: remove __FILE__ from debug output
  * libertas: remove unused/superfluous definitions of DEV_NAME_LEN
  * libertas: move vendor & product id's into if_usb.c
  * libertas: make libertas_wlan_data_rates static
  * libertas: fix scanning from associate path
  * libertas: exclude non-used code when PROC_DEBUG is not set
  * libertas: make debug configurable
  * libertas: tune debug code
  * libertas: single out mesh code
  * libertas: change debug output of libertas_interrupt()
  * libertas: get rid of libertas_sbi_get_priv()
  * libertas: fix SSID output
  * libertas: changed some occurences of kmalloc() + memset(&a,0,sz) to
    kzalloc()
  * libertas: move reset_device() code main.c to if_usb.c
  * libertas: split wlan_add_card()
  * libertas: fixed transmission flow control on the mesh interface
  * libertas: fix error handling of card initialization
  * libertas: added transmission failures to mesh statistics
  * libertas: wakeup both mesh and normal wakeup when getting out of scan
  * libertas: indirect all hardware access via hw_XXXX functions
  * libertas: move contents of fw.h to decl.h
  * libertas: split module into two (libertas.ko and usb8xxx.ko)
  * libertas: fix RESET logic at unload time
  * libertas: let DRV_NAME be overridable
  * libertas: remove unused variables in wlan_dev_t
  * libertas: fixed incorrect assigment of fcs errors to frag errors
  * libertas: add URB debug info
  * libertas: fixed kernel oops on module/card removal
  * libertas: call SET_NETDEV_DEV from common code
  * libertas: replace 'macaddress' with 'bssid'
  * libertas: correctly unregister mesh netdev on error
  * libertas: don't tear down netdev in libertas_activate_card
  * libertas: version bump (321p0) and cmds update for new fw (5.220.10.p0)
  * libertas: updated mesh commands for 5.220.9.p11
  * libertas: make scan result handling more flexible
  * libertas: fix 'keep previous scan' behavior
  * libertas: cleanup of fwt_list_route processing
  * libertas: fix oops on rmmod
  * libertas: move channel changing into association framework
  * libertas: make association paths consistent
  * libertas: use MAC_FMT and MAC_ARG where appropriate
  * libertas: use compare_ether_addr() rather than memcmp() where
    appropriate
  * libertas: fix debug enter/leave prints for
    libertas_execute_next_command
  * libertas: correctly balance locking in libertas_process_rx_command
  * libertas: correct error report paths for wlan_fwt_list_ioctl
  * libertas: fix deadlock SIOCGIWSCAN handler
  * libertas: fix default adhoc channel
  * libertas: honor specific channel requests during association
  * libertas: send SIOCGIWSCAN event after partial scans too
  * libertas: debug print spacing fixes in assoc.c
  * libertas: add more verbose debugging to libertas_cmd_80211_authenticate
  * libertas: Make WPA work through supplicant handshake
  * libertas: updated readme file
  * libertas: make mac address configuration work with mesh interface too
  * libertas: split wext for eth and msh
  * libertas: support for mesh autostart on firmware 5.220.11
  * libertas: fix character set in README
  * libertas: sparse fixes
  * libertas: first pass at fixing up endianness issues
  * libertas: More endianness fixes.
  * libertas: more endianness fixes, in tx.c this time
  * libertas: don't byte-swap firmware version number. It's a byte array.
  * libertas: fix big-endian associate command.
  * libertas: tweak association debug output
  * libertas: remove structure WLAN_802_11_SSID and libertas_escape_essid
  * libertas: remove WPA_SUPPLICANT structure
  * libertas: reduce SSID and BSSID mixed-case abuse
  * kbuild: fix sh64 section mismatch problems
  * cfg80211: fix signed macaddress in sysfs
  * mac80211: fix debugfs tx power reduction output
  * mac80211: Don't stop tx queue on master device while scanning.
  * Input: usbtouchscreen - fix fallout caused by move from drivers/usb
  * Input: i8042 - add ASUS P65UP5 to the noloop list
  * Input: i8042 - add ULI EV4873 to noloop list
  * [PARISC] remove global_ack_eiem
  * libertas: pull current channel from firmware on mesh autostart
  * libertas: deauthenticate from AP in channel switch
  * libertas: actually send mesh frames to mesh netdev
  * libertas: convert libertas_mpp into anycast_mask
  * [PPP_MPPE]: Fix "osize too small" check.
  * NetXen: Fix link status messages
  * myri10ge: limit the number of recoveries
  * myri10ge: report when the link partner is running in Myrinet mode
  * myri10ge: update driver version
  * sysfs: store sysfs inode nrs in s_ino to avoid readdir oopses
  * sysfs: fix condition check in sysfs_drop_dentry()
  * sysfs: fix race condition around sd->s_dentry, take#2
  * [TCP]: Fix left_out setting during FRTO
  * Input: move input-polldev to drivers/input
  * [SPARC64]: Wire up cookie based sun4v interrupt registry.
  * [SPARC64]: Fix IO/MEM space sizing for PCI.
  * [SPARC64]: Really fix parport.
  * [SPARC64]: Fix args to sun4v_ldc_revoke().
  * [TCP]: Set initial_ssthresh default to zero in Cubic and BIC.
  * mmc-omap: fix sd response type 6 vs. 1
  * mmc: get back read-only switch function
  * [SCTP]: Correctly set daddr for IPv6 sockets during peeloff
  * [SCTP]: Allow unspecified port in sctp_bindx()
  * [SCTP] Fix leak in sctp_getsockopt_local_addrs when copy_to_user fails
  * [SCTP] Update pmtu handling to be similar to tcp
  * [SCTP] Flag a pmtu change request
  * [SCTP] Don't disable PMTU discovery when mtu is small
  * [POWERPC] Fix per-cpu allocation on oldworld SMP powermacs
  * [POWERPC] Fix console output getting dropped on platforms without
    udbg_putc
  * [AVR32] ratelimit segfault reporting rate
  * [AVR32] gpio_*_cansleep() fix
  * [AVR32] STK1000: Set SPI_MODE_3 in the ltv350qv board info
  * [AVR32] Define ARCH_KMALLOC_MINALIGN to L1_CACHE_BYTES
  * [MIPS] Malta: Fix for SOCitSC based Maltas
  * [MIPS] Separate performance counter interrupts
  * [MIPS] Fix builds where MSC01E_xxx is undefined.
  * [TCP]: Add missing break to TCP option parsing code
  * [IPV6] addrconf: Fix IPv6 on tuntap tunnels
  * [AGPGART] intel_agp: fix device probe
  * KVM: Prevent guest fpu state from leaking into the host
  * splice: adjust balance_dirty_pages_ratelimited() call
  * splice: fix leak of pages on short splice to pipe
  * splice: only check do_wakeup in splice_to_pipe() for a real pipe
  * [TCP]: Congestion control API RTT sampling fix
  * [TCP]: Fix logic breakage due to DSACK separation
  * [RXRPC] net/rxrpc/ar-connection.c: fix NULL dereference
  * block: always requeue !fs requests at the front
  * mm: Fix memory/cpu hotplug section mismatch and oops.
  * Resume from RAM on HPC nx6325 broken
  * ide-scsi: fix OOPS in idescsi_expiry()
  * fix radeon setparam on 32/64 systems, harder.
  * tty: restore locked ioctl file op
  * i386: fix NMI watchdog not reserving its MSRs
  * i386: use the right wrapper to disable the NMI watchdog
  * SLUB slab validation: Alloc while interrupts are disabled must use
    GFP_ATOMIC
  * Restore shmid as inode# to fix /proc/pid/maps ABI breakage
  * i386 mm: use pte_update() in ptep_test_and_clear_dirty()
  * cpuset: zero malloc - fix for old cpusets
  * toshiba_acpi: fix section mismatch in allyesconfig
  * swsusp: Fix userland interface
  * perfctr-watchdog: fix interchanged parameters to
    release_{evntsel,perfctr}_nmi
  * fuse: ->fs_flags fixlet
  * md: fix two raid10 bugs
  * md: fix bug in error handling during raid1 repair
  * spi doc updates
  * uml: remove PAGE_SIZE from libc code
  * uml: kill x86_64 STACK_TOP_MAX
  * random: fix output buffer folding
  * Rework ptep_set_access_flags and fix sun4c
  * SLUB: minimum alignment fixes
  * udf: fix possible leakage of blocks
  * hugetlb: fix get_policy for stacked shared memory files
  * shm: fix the filename of hugetlb sysv shared memory
  * Linux 2.6.22-rc5
  * [GFS2] flush the glock completely in inode_go_sync
  * [DLM] fix a couple of races
  * [GFS2] kernel changes to support new gfs2_grow command
  * [GFS2] Kernel changes to support new gfs2_grow command (part 2)
  * [GFS2] use zero_user_page
  * [GFS2] Addendum patch 2 for gfs2_grow
  * [GFS2] Reduce size of struct gdlm_lock
  * [GFS2] Clean up inode number handling
  * [GFS2] Quotas non-functional - fix bug
  * [DLM] keep dlm from panicing when traversing rsb list in debugfs
  * [DLM] block scand during recovery [1/6]
  * [DLM] add lock timeouts and warnings [2/6]
  * [DLM] dlm_device interface changes [3/6]
  * [DLM] cancel in conversion deadlock [4/6]
  * [DLM] fix new_lockspace error exit [5/6]
  * [DLM] wait for config check during join [6/6]
  * [DLM] fix compile breakage
  * [GFS2] latest gfs2-nmw headers break userland build
  * [DLM] Compile fix
  * [DLM] timeout fixes
  * [DLM] canceling deadlocked lock
  * [DLM] dumping master locks
  * [DLM] show default protocol
  * [GFS2] Quotas non-functional - fix another bug
  * [GFS2] Make the log reserved blocks depend on block size
  * [DLM] fix socket shutdown
  * [GFS2] fix jdata issues
  * [GFS2] Fix sign problem in quota/statfs and cleanup _host structures
  * [GFS2] Add nanosecond timestamp feature
  * [DLM] fix reference counting
  * [DLM] variable allocation
  * [GFS2] Fix typo in rename of directories
  * [GFS2] Fix bug in error path of inode
  * [GFS2] Can't mount GFS2 file system on AoE device
  * [GFS2] Recovery for lost unlinked inodes
  * [GFS2] gfs2_lookupi() uninitialised var fix
  * [GFS2] set plock owner in GETLK info
  * [GFS2] return conflicts for GETLK
  * [GFS2] Fix deallocation issues
  * [DLM] don't require FS flag on all nodes
  * [GFS2] Journaled file write/unstuff bug
  * [GFS2] Remove bogus '\0' in rgrp.c
  * [GFS2] Use zero_user_page() in stuffed_readpage()
  * [GFS2] assertion failure after writing to journaled file, umount
  * [GFS2] Simplify multiple glock aquisition
  * [GFS2] Addendum to the journaled file/unmount patch

 -- Ben Collins <bcollins@ubuntu.com>  Fri, 01 Jun 2007 12:15:58 -0400

linux-source-2.6.22 (2.6.22-6.13) gutsy; urgency=low

  [Ben Collins]

  * Bump ABI
  * build/scripts: Remove all remnants of debconf from control scripts
  * build/config: Re-enable paravirt/vmi
  * build/config: Build ide-core as a module
  * i386/x86_64: Allow disabling the putstr's from compressed boot wrapper
  * PM: Do not require dev spew to get PM_DEBUG
  * RTC: Ratelimit "lost interrupts" message
  * UNUSUAL_DEV: Sync up some reported devices from Ubuntu
  * build/d-i: Include ide-core in storage-core udeb, not that it's modular
  * build/d-i: Make ide-modules depend on storage-code-modules
  * build/config: Enable CONFIG_TIMER_STATS on x86_64.
  * build/config: Disable CONFIG_RTC_DRV_CMOS
  * build/config: Enable TIMER_STATS everywhere.
  * build/config: Enable SND_AC97_POWER_SAVE
    - LP: #116679
  * kmod: Improve call_usermodehelper_pipe to handle data close
  * coredump: Convert to new call_usermodehelper_pipe symantics
  * PPC: Only set hwif stuff when ide-core is non-modular
  * PPC/MEDIABAY: Export some functions for modular ide-core/ppc-ide

  [Colin Watson]

  * Move isofs to storage-core-modules udeb from fs-core-modules.

  [Upstream Kernel Changes]

  * Input: logips2pp - add type 72 (PS/2 TrackMan Marble)
  * Input: adbhid - do not access input_dev->private directly
  * sh: Shut up compiler warnings in __do_page_fault().
  * sh: Fix up psw build rules for r7780rp.
  * sh: Kill off pmb slab cache destructor.
  * sh: landisk: rtc-rs5c313 support.
  * sh: landisk: Header cleanups.
  * input: hp680_ts compile fixes.
  * [ARM] 4375/1: sharpsl_pm: Fix compile warnings
  * [ARM] 4376/1: Selects GENERIC_GPIO for ARCH_IXP4XX in Kconfig
  * [ARM] 4378/1: KS8695: Serial driver fix
  * [ARM] Remove Integrator/CP SMP platform support
  * [ARM] 4382/1: iop13xx: fix msi support
  * [ARM] 4383/1: iop: fix usage of '__init' and 'inline' in iop files
  * [ARM] 4384/1: S3C2412/13 SPI registers offset correction
  * [ARM] Update ARM syscalls
  * [ARM] Silence OMAP kernel configuration warning
  * [ARM] gic: Fix gic cascade irq handling
  * [ARM] integrator: fix pci_v3 compile error with DEBUG_LL
  * [ARM] ARMv6: add CPU_HAS_ASID configuration
  * [CRYPTO] padlock: Make CRYPTO_DEV_PADLOCK a tristate again
  * [CRYPTO] tcrypt: Add missing error check
  * eventfd use waitqueue lock ...
  * timerfd use waitqueue lock ...
  * [IA64] Fix bogus messages about system calls not implemented.
  * [IA64] Yet another section mismatch warning
  * Fix roundup_pow_of_two(1)
  * Further update of the i386 boot documentation
  * cciss: Fix pci_driver.shutdown while device is still active
  * Linux v2.6.22-rc2
  * [CRYPTO] api: Read module pointer before freeing algorithm
  * powerpc: Fix the MODALIAS generation in modpost for of devices
  * kbuild: include limits.h in sumversion.c for PATH_MAX
  * kconfig: search harder for curses library in check-lxdialog.sh
  * kbuild: make modpost section warnings clearer
  * kbuild: make better section mismatch reports on i386, arm and mips
  * kbuild: add "Section mismatch" warning whitelist for powerpc
  * all-archs: consolidate .text section definition in asm-generic
  * all-archs: consolidate .data section definition in asm-generic
  * kbuild: introduce __init_refok/__initdata_refok to supress section
    mismatch warnings
  * init/main: use __init_refok to fix section mismatch
  * mm: fix section mismatch warnings
  * mm/slab: fix section mismatch warning
  * IB/core: Free umem when mm is already gone
  * IB/ipath: Fix potential deadlock with multicast spinlocks
  * IB/core: Add helpers for uncached GID and P_Key searches
  * IB/core: Use start_port() and end_port()
  * IPoIB: Handle P_Key table reordering
  * IB/ehca: Return proper error code if register_mr fails
  * IB/mthca: Fix use-after-free on device restart
  * IB/mlx4: Fix check of max_qp_dest_rdma in modify QP
  * IB/mthca: Set GRH:HopLimit when building MLX headers
  * IB/mlx4: Set GRH:HopLimit when sending globally routed MADs
  * IB/mthca: Fix RESET to ERROR transition
  * IB/mlx4: Fix RESET to RESET and RESET to ERROR transitions
  * mlx4_core: Fix array overrun in dump_dev_cap_flags()
  * IB/mlx4: Fix check of opcode in mlx4_ib_post_send()
  * [IPV6]: Add ip6_tunnel.h to headers_install
  * [RFKILL]: Fix check for correct rfkill allocation
  * [NET]: Fix net/core/skbuff.c gcc-3.2.3 compilation error
  * [TCP] FRTO: Add missing ECN CWR sending to one of the responses
  * [TCP] FRTO: Prevent state inconsistency in corner cases
  * [IPSEC] pfkey: Load specific algorithm in pfkey_add rather than all
  * [NETFILTER]: nf_conntrack: fix use-after-free in helper destroy
    callback invocation
  * [NETFILTER]: nf_conntrack_ipv4: fix incorrect #ifdef config name
  * [IPV4]: icmp: fix crash with sysctl_icmp_errors_use_inbound_ifaddr
  * [NET]: Fix race condition about network device name allocation.
  * IB/mlx4: Pass send queue sizes from userspace to kernel
  * [ARM] 4387/1: fix /proc/cpuinfo formatting for pre-ARM7 parts
  * [ARM] 4388/1: no need for arm/mm mmap range checks for non-mmu
  * [ARM] 4395/1: S3C24XX: add include of <linux/sysdev.h> to relevant
    machines
  * [ARM] 4396/1: S3C2443: Add missing HCLK clocks
  * [ARM] 4397/1: S3C2443: remove SDI0/1 IRQ ambiguity
  * [ARM] 4398/1: S3C2443: Fix watchdog IRQ number
  * [ARM] 4399/2: S3C2443: Fix SMDK2443 nand timings
  * [ARM] 4400/1: S3C24XX: Add high-speed MMC device definition
  * [ARM] at91_adc parenthesis balance
  * [ARM] spelling fixes
  * IB/mlx4: Check if SRQ is full when posting receive
  * spelling fixes: arch/sh/
  * sh: revert addition of page fault notifiers
  * sh: Wire up signalfd/timerfd/eventfd syscalls.
  * sh: Fix up various compile warnings for SE boards.
  * sh: Fix page size alignment in __copy_user_page().
  * sh: Disable psw support for R7785RP.
  * fs: Kill sh dependency for binfmt_flat.
  * sh: disable genrtc support.
  * sh: sr.bl toggling around idle sleep.
  * sh: Wire up kdump crash kernel exec in die().
  * sh: Fix clock multiplier on SH7722.
  * sh: Fix dreamcast build for IRQ changes.
  * [S390] cio: Update documentation.
  * [S390] Wire up sys_utimensat.
  * [S390] Wire up signald, timerfd and eventfd syscalls.
  * [S390] Make use of kretprobe_assert.
  * [S390] More verbose show_mem() like other architectures.
  * Fix "fs: convert core functions to zero_user_page"
  * Detach sched.h from mm.h
  * Blackfin arch: Add Workaround for ANOMALY 05000257
  * Blackfin arch: add SPI MMC driver support on bf533-stamp, tested on
    STAMP-BF533
  * Blackfin arch: ISP1761 doesn't work for USB flash disk
  * Blackfin arch: fix a few random warnings
  * Blackfin arch: Add configuration data for ISP176x on BF561
  * Blackfin arch: mark a bunch of local functions as static
  * Blackfin arch: Fix reserved map after we changed PORT_H definition
  * Blackfin arch: Move write to VR_CTL closer to IDLE
  * Blackfin arch: DMA operation cleanup
  * Blackfin arch: GPIO fix some defines
  * Blackfin arch: fix trace output for FLAT binaries
  * Blackfin arch: Fix bug using usb keyboard crashes kernel
  * Blackfin arch: initial tepla-bf561 board support
  * Blackfin arch: make sure we declare the revid functions as pure (since
    they are)
  * Blackfin arch: dont clear status register bits in SWRST so we can
    actually use it
  * Blackfin arch: finish removing p* volatile defines for MMRs
  * Blackfin arch: move board specific setup out of common init code and
    into the board specific init code
  * Blackfin arch: issue reset via SWRST so we dont clobber the watchdog
    state
  * Blackfin arch: document why we have to touch the UART peripheral in our
    boot up code
  * Blackfin arch: dma_memcpy borken for > 64K
  * Blackfin arch: dont clear the bit that tells coreb to start booting
  * Blackfin arch: make sure we use local labels
  * Blackfin arch: update blackfin header files to latest one in VDSP.
  * Blackfin arch: cache SWRST value at bootup so other things like
    watchdog can non-destructively query it
  * Blackfin arch: fix signal handling bug
  * Blackfin arch: Change NO_ACCESS_CHECK to ACCESS_CHECK
  * Blackfin arch: add board default configs to blackfin arch
  * Blackfin arch: update defconfig files
  * Blackfin arch: update pm.c according to power management API change.
  * Blackfin serial driver: fix overhead issue
  * Blackfin serial driver: implement support for ignoring parity/break
    errors
  * Blackfin SPI: cleanup according to David Brownell's review
  * x86_64: Update defconfig
  * i386: Update defconfig
  * x86_64: Support x86_64 in make buildtar
  * i386: Fix K8/core2 oprofile on multiple CPUs
  * x86_64: Support gcc 5 properly
  * i386: Clear MCE flag on AMD K6
  * i386: Fix wrong CPU error message in early boot path
  * i386: Enable CX8/PGE CPUID bits early on VIA C3
  * x86_64: early_print kernel console should send CRLF not LFCR
  * x86_64: vsyscall time() fix
  * i386: fix PGE mask
  * LDM: Fix for Windows Vista dynamic disks
  * IB/ipoib: Fix typos in error messages
  * IPoIB/cm: Fix SRQ WR leak
  * IB/cm: Improve local id allocation
  * e1000: Don't enable polling in open() (was: e1000: assertion hit in
    e1000_clean(), kernel 2.6.21.1)
  * declance: Remove a dangling spin_unlock_irq() thingy
  * Add constant for FCS/CRC length (frame check sequence)
  * ahci: disable 64bit dma on sb600
  * libata: Add Seagate STT20000A to DMA blacklist.
  * pata_hpt366: Enable bits are unreliable so don't use them
  * ata_piix: clean up
  * libata: Kiss post_set_mode goodbye
  * libata: Trim trailing whitespace
  * partitions/LDM: build fix
  * Make 'headerscheck' stop immediately on an error
  * Fix headers check fallout
  * [POWERPC] Fix smp_call_function to be preempt-safe
  * [POWERPC] Add missing pmc_type fields in cpu_table
  * [POWERPC] Fix typo: MMCR0_PMA0 != MMCR0_PMAO
  * [POWERPC] Fix powerpc vmlinux.lds.S
  * [POWERPC] Fix warning in 32-bit builds with CONFIG_HIGHMEM
  * libertas: skb dereferenced after netif_rx
  * drivers/net/wireless/libertas/fw.c: fix use-before-check
  * drivers/net/wireless/libertas/rx.c: fix use-after-free
  * [IA64] Improve unwind checking.
  * [IA64] Only unwind non-running tasks.
  * [IA64] fix kmalloc(0) in arch/ia64/pci/pci.c
  * i2c: Legacy i2c drivers shouldn't issue uevents
  * i2c-tiny-usb: Fix truncated adapter name
  * i2c-s3c2410: Fix build warning
  * V4L/DVB (5639): Fix Kconfig dependencies for ivtv
  * V4L/DVB (5640): Fix: em28xx shouldn't be selecting VIDEO_BUF
  * V4L/DVB (5670): Adding new fields to v4l2_pix_format broke the ABI,
    reverted that change
  * V4L/DVB (5639a): Fix dst usage count
  * V4L/DVB (5630): Dvb-core: Handle failures to create devices
  * V4L/DVB (5680): Tuner-simple.c fix suport for SECAM with FI1216MF
  * V4L/DVB (5690): Cafe_ccic: Properly power down the sensor
  * V4L/DVB (5691): Ov7670: reset clkrc in rgb565 mode
  * [IPSEC]: Fix warnings with casting int to pointer
  * [AF_RXRPC]: AF_RXRPC depends on IPv4
  * [AF_RXRPC]: Make call state names available if CONFIG_PROC_FS=n
  * [RTNETLINK]: Allow changing of subsets of netdevice flags in
    rtnl_setlink
  * [RTNETLINK]: Remove remains of wireless extensions over rtnetlink
  * Input: iforce - fix force feedback not working
  * Input: iforce - minor clean-ups
  * Input: ALPS - force stream mode
  * Input: ucb1400_ts - use sched_setscheduler()
  * Input: ucb1x00-ts - remove commented out code
  * Input: input-polldev - add module info
  * Input: ads7846 - document that it handles tsc2046 too
  * Input: ads7846 - SPI_CPHA mode bugfix
  * USB: fix omninet memory leak found by coverity
  * USB: remove useless check in mos7840 found by coverity
  * usb-storage: ignore Sitecom WL-117 USB-WLAN
  * USB: fix more ftdi-elan/u132-hcd #include lossage
  * USB: handle more rndis_host oddities
  * USB: remove usb DocBook warnings
  * USB: address FIXME in usbnet w.r.t drivers claiming multiple interfaces
  * EHCI: fix problem with BIOS handoff
  * USB: more autosuspend timer stuff
  * USB: remove unneeded WARN_ON
  * USB: New device PID for ftdi_sio driver
  * USB: set the correct Interrupt interval in usb_bulk_msg
  * USB: fsl_usb2_udc: Fix UMTI_WIDE support and a compile warning
  * USB: auerswald: fix file release handler
  * USB: Remove duplicate IDs from option card driver
  * USB: Deref URB after usbmon is done with it
  * USB: remove short initial timeout for device descriptor fetch
  * USB: don't try to kzalloc 0 bytes
  * USB: Onetouch - switch to using input_dev->dev.parent
  * USB: Fix debug output of ark3116
  * USB: usblp: Use correct DMA address in case of probe error
  * USB: Fix USB OHCI Subvendor for Toshiba Portege 4000
  * USB: make the autosuspend workqueue thread freezable
  * USB: handle errors in power/level attribute
  * USB: fix ratelimit call semantics
  * USB: ftdi_sio: Add USB Product Id for OpenDCC
  * USB: ldusb bugfix
  * USB: Add support for Sierra Wireless Aircard 595U
  * USB: Add support for Olimex arm-usb-ocd JTAG interface serial port
  * IB/mlx4: Don't allocate RQ doorbell if using SRQ
  * [IA64] start_secondary() and smp_callin() should be __cpuinit
  * add the IDE device ID for ATI SB700
  * ide/pci/serverworks.c: Fix corruption/timeouts with MegaIDE
  * Add two missing chipsets to drivers/ide/ide-proc.c
  * Match DMA blacklist entries between ide-dma.c and libata-core.c
  * ide serverworks warning fixes
  * freezer: close potential race between refrigerator and thaw_tasks
  * freezer: fix vfork problem
  * freezer: take kernel_execve into consideration
  * freezer: fix kthread_create vs freezer theoretical race
  * freezer: fix PF_NOFREEZE vs freezeable race
  * freezer: move frozen_process() to kernel/power/process.c
  * Ignore bogus ACPI info for offline CPUs
  * SLUB Debug: Fix object size calculation
  * fuse: fix mknod of regular file
  * mpc52xx_psc_spi: fix it for CONFIG_PPC_MERGE
  * spi doc update: describe clock mode bits
  * NOHZ: Rate limit the local softirq pending warning output
  * genhd: expose AN to user space
  * genhd: send async notification on media change
  * capability.h warning fix
  * spi/spidev: check message size before copying
  * uml: improve PTRACE_SYSEMU checking
  * prohibit rcutorture from being compiled into the kernel
  * Documentation: fix the explanation of Kconfig files
  * Avoid zero size allocation in cache_k8_northbridges()
  * recalc_sigpending_tsk fixes
  * optimize compat_core_sys_select() by a using stack space for small fd
    sets
  * spi: potential memleak in spidev_ioctl
  * fbdev: cleanup of sparc FB options
  * pm2fb: RDAC_WR barriers clean up
  * pm3fb: various fixes
  * w100fb: fix compile warnings
  * ps3fb: use FB_SYS_* instead of FB_CFB_*
  * imxfb: remove ifdefs
  * imxfb: fix memory hole
  * Missing 'const' from reiserfs MIN_KEY declaration.
  * uselib: add missing MNT_NOEXEC check
  * fuse: generic_write_checks() for direct_io
  * fuse: delete inode on drop
  * fix unused setup_nr_node_ids
  * SLUB Debug: fix check for super sized slabs (>512k 64bit, >256k 32bit)
  * Char: cyclades, fix deadlock
  * simplify cleanup_workqueue_thread()
  * phantom: move to unlocked_ioctl
  * Misc: phantom, take care of pci posting
  * power: Fix sizeof(PAGE_SIZE) typo
  * update dontdiff file
  * signalfd: retrieve multiple signals with one read() call
  * i2o: destroy event queue only when drv->event is set
  * i2o: fix notifiers when max_drivers is configured
  * i2o: eliminate a peculiar constraint on i2o_max_drivers
  * i386, x86-64: show that CONFIG_HOTPLUG_CPU is required for suspend on
    SMP
  * md: avoid overflow in raid0 calculation with large components
  * md: don't write more than is required of the last page of a bitmap
  * md: fix bug with linear hot-add and elsewhere
  * documentation: Documentation/initrd.txt
  * HiSax: fix error checking for hisax_register()]
  * applesmc - sensors patch missing from 2.6.22-rc2
  * Off by one in floppy.c
  * eCryptfs: delay writing 0's after llseek until write
  * document clocksources
  * ehci-fsl: fix cache coherency problem on system with large memory
  * Prevent going idle with softirq pending
  * i386: fix early usage of atomic_add_return and local_add_return on real
    i386
  * Documentation/memory-barriers.txt: various fixes
  * omap_uwire: SPI_CPHA mode bugfix
  * capifunc warning fixes
  * drivers/isdn/hardware/eicon/message.c warning fixes
  * i386 bigsmp: section mismatch fixes
  * boot documentation: clarifications
  * mmc: clean up unused parts of block driver
  * mmc: mark unmaintained drivers
  * mmc: Add maintainers for TI OMAP MMC interface
  * mmc: add maintainer for iMX MMC interface
  * mmc: add maintainer for ARM Primecell controller
  * [CRYPTO] geode: Fix in-place operations and set key
  * [Bluetooth] Always send HCI_Reset for Broadcom devices
  * [Bluetooth] Fix L2CAP configuration parameter handling
  * NFS: Avoid a deadlock situation on write
  * NFS: Fix handful of compiler warnings in direct.c
  * NFS: Fix nfs_direct_dirty_pages()
  * Don't call a warnign a bug. It's a warning.
  * [IA64] Fix using uninitialized data in _PDC setup
  * [IA64] Cleanup acpi header to reuse the generic _PDC defines
  * Documentation: Fix up docs still talking about i_sem
  * [IA64] acpi_get_sysname() should be __init
  * IB/mlx4: Initialize send queue entry ownership bits
  * IB/ehca: Fix number of send WRs reported for new QP
  * IPoIB/cm: Fix timeout check in ipoib_cm_dev_stop()
  * IPoIB/cm: Drain cq in ipoib_cm_dev_stop()
  * ucc_geth: Fix MODULE_DEVICE_TABLE() duplication
  * ucc_geth:trivial fix
  * asix.c - Add Belkin F5D5055 ids
  * fix compiler warning in fixed.c
  * remove unnecessary dependency on VIA velocity config
  * meth driver renovation
  * spidernet: skb used after netif_receive_skb
  * chelsio parenthesis fix
  * forcedeth: fix cpu irq mask
  * [NET_SCHED]: Fix qdisc_restart return value when dequeue is empty
  * [IPV6]: Ignore ipv6 events on non-IPV6 capable devices.
  * [ATM]: Use mutex instead of binary semaphore in idt77252 driver.
  * [DCCP]: Use menuconfig objects.
  * [IPVS]: Use menuconfig objects.
  * [SCTP]: Use menuconfig objects.
  * [TIPC]: Use menuconfig objects.
  * [ARCNET]: Use menuconfig objects.
  * [TR]: Use menuconfig objects.
  * [RTNETLINK]: Fix sending netlink message when replace route.
  * [TIPC]: Fixed erroneous introduction of for_each_netdev
  * [DCCP]: Fix build warning when debugging is disabled.
  * [NET_SCHED]: sch_htb: fix event cache time calculation
  * [NETFILTER]: nf_conntrack_ftp: fix newline sequence number update
  * [NETFILTER]: nf_conntrack_ftp: fix newline sequence number calculation
  * [NETFILTER]: nf_conntrack_h323: fix ASN.1 types
  * [NETFILTER]: nf_conntrack_h323: fix get_h225_addr() for IPv6 address
    access
  * [NETFILTER]: nf_conntrack_h323: remove unnecessary process of
    Information signal
  * [NETFILTER]: nf_conntrack_h323: add missing T.120 address in OLCA
  * [NETFILTER]: nf_nat_h323: call set_h225_addr instead of
    set_h225_addr_hook
  * [NET]: "wrong timeout value" in sk_wait_data() v2
  * hpt3x2n: Correct revision boundary
  * pata_sis: Fix and clean up some timing setups
  * ata_piix: add short 40c quirk for Acer Aspire 2030, take #2
  * libata: don't consider 0xff as port empty if SStatus is available
  * libata: -ENODEV during prereset isn't an error
  * pata_via: Handle laptops via DMI
  * [CASSINI]: Check pci_set_mwi() return value.
  * [XFRM]: Allow packet drops during larval state resolution.
  * [libata] sata_promise: fix flags typo
  * [libata] sata_mv: add TODO list
  * Fix build failure for drivers/ata/pata_scc.c
  * libata: sata_sis fixes
  * [libata] Fix decoding of 6-byte commands
  * [libata] sata_via, pata_via: Add PCI IDs.
  * ocfs2: trylock in ocfs2_readpage()
  * ocfs2: unmap_mapping_range() in ocfs2_truncate()
  * ocfs2: use zero_user_page
  * ocfs2: fix inode leak
  * ocfs2: use generic_segment_checks
  * pata: Trivia
  * pata_hpt37x: Further improvements based on the IDE updates and vendor
    drivers
  * fix compat console unimap regression
  * Linux 2.6.22-rc3

 -- Ben Collins <bcollins@ubuntu.com>  Thu, 31 May 2007 12:35:44 -0400

linux-source-2.6.22 (2.6.22-5.11) gutsy; urgency=low

  [Ben Collins]

  * build/headers/ppc: Correct asm-ppc -> asm for arch symlink
  * build/headers/ia64: Fix find command line to correctly pull in *.lds
    files
  * Bump ABI

  [Upstream Kernel Changes]

  * [IA64] spelling fixes: arch/ia64/
  * [AVR32] Remove bogus comment in arch/avr32/kernel/irq.c
  * [AVR32] optimize pagefault path
  * [AVR32] Wire up signalfd, timerfd and eventfd
  * [IA64] wire up {signal,timer,event}fd syscalls
  * [IA64] kdump on INIT needs multi-nodes sync-up (v.2)
  * [IA64] s/scalibility/scalability/
  * [AVR32] Implement platform hooks for atmel_lcdfb driver
  * [IA64] Fix section conflict of ia64_mlogbuf_finish
  * [SPARC64]: Add hypervisor API negotiation and fix console bugs.
  * pata_scc had been missed by ata_std_prereset() switch
  * libata: separate out ata_dev_reread_id()
  * libata: during revalidation, check n_sectors after device is configured
  * libata-acpi: add ATA_FLAG_ACPI_SATA port flag
  * libata: fix shutdown warning message printing
  * libata: track spindown status and skip spindown_compat if possible
  * [ALSA] usb-audio: another Logitech QuickCam ID
  * [ALSA] hda-codec - Make the mixer capability check more robust
  * [ALSA] ASoC AC97 static GPL symbol fix
  * [ALSA] ASoC AC97 device reg bugfix
  * [ALSA] hda-codec - Fix ALC882/861VD codec support on some laptops
  * [ALSA] version 1.0.14rc4
  * [ALSA] Fix probe of non-PnP ISA devices
  * [ALSA] Include quirks from Ubuntu Dapper/Edgy/Feisty
  * [ALSA] usbaudio - Coping with short replies in usbmixer
  * [IA64] optimize pagefaults a little
  * Fix ACPI suspend / device suspend ordering problem
  * AFS: write back dirty data on unmount
  * SLUB: It is legit to allocate a slab of the maximum permitted size
  * slub: don't confuse ctor and dtor
  * AFS: Fix afs_prepare_write()
  * spi: fix spidev for >sizeof(long)/32 devices
  * parport_pc needs dma-mapping.h
  * Fix: find_or_create_page skips cpuset memory spreading.
  * slob: implement RCU freeing
  * Slab allocators: Drop support for destructors
  * SLUB: Remove depends on EXPERIMENTAL and !ARCH_USES_SLAB_PAGE_STRUCT
  * SLAB: Move two remaining SLAB specific definitions to slab_def.h
  * SLUB: Define functions for cpu slab handling instead of using
    PageActive
  * slab: warn on zero-length allocations
  * slub: fix handling of oversized slabs
  * SLUB: slabinfo fixes
  * SLUB: Do our own flags based on PG_active and PG_error
  * Remove SLAB_CTOR_CONSTRUCTOR
  * SLUB: Simplify debug code
  * Slab allocators: define common size limitations
  * acpi: fix potential call to a freed memory section.
  * i386/x86-64: fix section mismatch
  * Make __vunmap static
  * simplify compat_sys_timerfd
  * Let smp_call_function_single return -EBUSY on UP
  * Refine SCREEN_INFO sanity check for vgacon initialization
  * make freezeable workqueues singlethread
  * parport: mailing list is subscribers-only
  * docbook: make kernel-locking table readable
  * gpio interface loosens call restrictions
  * rtc-omap build fix
  * rtc kconfig clarification
  * icom: add new sub-device-id to support new adapter
  * make sysctl/kernel/core_pattern and fs/exec.c agree on maximum core
    filename size
  * ecryptfs: use zero_user_page
  * i386: don't check_pgt_cache in flush_tlb_mm
  * circular locking dependency found in QUOTA OFF
  * swsusp: fix sysfs interface
  * Fix page allocation flags in grow_dev_page()
  * mm: more rmap checking
  * NS16550A: Restore HS settings in EXCR2 on resume
  * Fix incorrect prototype for ipxrtr_route_packet()
  * sky2: remove Gigabyte 88e8056 restriction
  * sky2: PHY register settings
  * sky2: keep track of receive alloc failures
  * sky2: MIB counter overflow handling
  * sky2: remove dual port workaround
  * sky2: memory barriers change
  * small netdevices.txt fix
  * ibm_emac: fix section mismatch warnings
  * ibm_emac: improved PHY support
  * ibm_emac: fix link speed detection change
  * gianfar: Add I/O barriers when touching buffer descriptor ownership.
  * spidernet: node-aware skbuff allocation
  * NetXen: Fix NetXen driver ping on system-p
  * ixgb: don't print error if pci_enable_msi() fails, cleanup minor leak
  * e1000: Fix msi enable leak on error, don't print error message, cleanup
  * drivers/ata: remove the wildcard from sata_nv driver
  * sata_nv: fix fallout of devres conversion
  * libata: remove libata.spindown_compat
  * sata_via: pcim_iomap_regions() conversion missed BAR5

 -- Ben Collins <bcollins@ubuntu.com>  Thu, 17 May 2007 14:54:16 -0400

linux-source-2.6.22 (2.6.22-4.10) gutsy; urgency=low

  [Ben Collins]

  * Bump ABI
  * build/config: Disable obsolete tsdev driver.
  * build: Add tsdev to list of modules intentionally removed.
  * build/headers: Include *.lds files (fixes ia64 headers).
  * build/headers: Add arch/powerpc/include/asm symlink to get all headers.
  * build/module-check: Fix logic for printed messages.
  * build/maintainer: Use linux instead of upstream-linux for local diffs
  * build/config: Enable SLUB slab allocator (vs. SLAB).
  * build/config: Disable orinoco_nortel, use prefered hostap_plx
  * build/config: Disable ir-usb in favor of irda-usb
  * build/config: Disable sis5513(ide) in favor of pata_sis(libata)
  * build/config: Disable piix(ide) in favour of pata_oldpiix, ata_piix and
    pata_mpiix (libata)
  * build/config: Disable zaurus driver in favour of the cdc_ether driver
  * build/abi: Note a few modules intentionally removed.
  * build/config: Disable mxb and dpc7146 driver in favour of hexium_orion
  * build/config: Disable usbtest driver (for development only)
  * build/config: Disable keyspan driver in favour of keyspan_pda
  * build/abi: Add mxb and usbtest to list of removed modules.

  [Upstream Kernel Changes]

  * net: Trivial MLX4_DEBUG dependency fix.
  * mlx4_core: Remove unused doorbell_lock
  * [CPUFREQ] Support rev H AMD64s in powernow-k8
  * [CPUFREQ] powernow-k7: fix MHz rounding issue with perflib
  * [AGPGART] Fix wrong ID in via-agp.c
  * sh64: ROUND_UP macro cleanup in arch/sh64/kernel/pci_sh5.c
  * spelling fixes: arch/sh64/
  * sh64: Wire up many new syscalls.
  * sh64: Fixups for the irq_regs changes.
  * sh64: dma-mapping updates.
  * sh64: ppoll/pselect6() and restartable syscalls.
  * sh64: Fixup sh-sci build.
  * sh64: Update cayman defconfig.
  * sh64: generic quicklist support.
  * sh64: Add .gitignore entry for syscalltab.
  * IB/mlx4: Fix uninitialized spinlock for 32-bit archs
  * IB/ipath: Shadow the gpio_mask register
  * IB/ehca: Serialize hypervisor calls in ehca_register_mr()
  * IB/ehca: Correctly set GRH mask bit in ehca_modify_qp()
  * IB/ehca: Fix AQP0/1 QP number
  * IB/ehca: Remove _irqsave, move #ifdef
  * IB/ehca: Beautify sysfs attribute code and fix compiler warnings
  * IB/ehca: Disable scaling code by default, bump version number
  * RDMA/cma: Simplify device removal handling code
  * RDMA/cma: Fix synchronization with device removal in cma_iw_handler
  * RDMA/cma: Add check to validate that cm_id is bound to a device
  * IB/mthca: Fix posting >255 recv WRs for Tavor
  * IB/mthca: Set cleaned CQEs back to HW ownership when cleaning CQ
  * IPoIB/cm: Optimize stale connection detection
  * [CPUFREQ] Correct revision mask for powernow-k8
  * fix epoll single pass code and add wait-exclusive flag
  * epoll locks changes and cleanups
  * epoll: fix some comments
  * epoll: move kfree inside ep_free
  * nommu: add ioremap_page_range()
  * h8300 atomic.h update
  * alpha: fix hard_smp_processor_id compile error
  * m68k: implement __clear_user()
  * Remove cpu hotplug defines for __INIT & __INITDATA
  * i386: move common parts of smp into their own file
  * i386: fix voyager build
  * SLUB: CONFIG_LARGE_ALLOCS must consider MAX_ORDER limit
  * ll_rw_blk: fix gcc 4.2 warning on current_io_context()
  * pasemi_mac: Fix register defines
  * pasemi_mac: Interrupt ack fixes
  * pasemi_mac: Terminate PCI ID list
  * pasemi_mac: Fix local-mac-address parsing
  * smc911x: fix compilation breakage
  * ucc_geth: eliminate max-speed, change interface-type to
    phy-connection-type
  * pdc202xx_old: rewrite mode programming code (v2)
  * serverworks: PIO mode setup fixes
  * sis5513: PIO mode setup fixes
  * alim15x3: use ide_tune_dma()
  * pdc202xx_new: use ide_tune_dma()
  * ide: always disable DMA before tuning it
  * cs5530/sc1200: add ->udma_filter methods
  * ide: use ide_tune_dma() part #2
  * cs5530/sc1200: DMA support cleanup
  * cs5530/sc1200: add ->speedproc support
  * sl82c105: add speedproc() method and MWDMA0/1 support
  * ide: remove ide_dma_enable()
  * ide: add missing validity checks for identify words 62 and 63
  * ide: remove ide_use_dma()
  * sl82c105: Switch to ref counting API
  * Use menuconfig objects: IDE
  * x86: Fix discontigmem + non-HIGHMEM compile
  * missing mm.h in fw-ohci
  * missing dependencies for USB drivers in input
  * missing includes in mlx4
  * em28xx and ivtv should depend on PCI
  * rpadlpar breakage - fallout of struct subsystem removal
  * m32r: __xchg() should be always_inline
  * audit_match_signal() and friends are used only if CONFIG_AUDITSYSCALL
    is set
  * fix uml-x86_64
  * arm: walk_stacktrace() needs to be exported

 -- Ben Collins <bcollins@ubuntu.com>  Tue, 15 May 2007 10:13:23 -0400

linux-source-2.6.22 (2.6.22-3.9) gutsy; urgency=low

  * Fixup firmware-modules -> efi-modules in exclude files.

  [Ben Collins]

  * build/config: Enable CONFIG_TIMER_STATS
  * build/config: Disable CONFIG_IRQBALANCE, handled in userspace now
  * build: Update modules that have been deprecated
  * sparc64: Get some drivers compiling, till patches get upstream.
  * powerpc: Add 64-bit cmp op for 32-bit.
  * build/config: Disable apm_emu, pasemi_mac and cbe_cpufreq on ppc64
  * build/d-i(cjwatson): Rename firmware-modules to efi-modules

 -- Ben Collins <bcollins@ubuntu.com>  Fri, 11 May 2007 09:38:50 +0200

linux-source-2.6.22 (2.6.22-2.7) gutsy; urgency=low

  [Changes for 2.7]

  * Added some more modules going missing to ignore.
  * Disable ADB_PMU_LED on powerpc64. FTBFS.

  [Ben Collins]

  * XXX: Well, xen and rt got disabled in this upload. Hopefully things will
    get working again soon.

  * build: Add check for nrcpus on buildd's for CONCURRENCY_LEVEL
  * build: No longer provide ndiswrapper or ivtv modules (l-u-m does).
  * build/d-i: Remove firmware lists, since we no longer supply those udebs
  * build: Remove more firmware stuff
  * build/control: Build-dep on coreutils
  * Update configuration files
  * build/custom: Updated xen/rt patches and configs.
  * build: Make sure to use /bin/bash for headers_install
  * build: Add SHELL=/bin/bash to headers_install
  * Update configuration files
  * Bump ABI
  * Update module lists to match module name changes and merges.
  * build/rt: Trimmed down real-time patch from Alessio Igor Bogani.
  * Update configuration files
  * Update configuration files
  * build/rt: Fix typo in diff
  * Update configuration files
  * build: make explicit binary-headers target
  * Update configuration files
  * build/control-scripts: Remove debconf from pre-rm script
  * build/ia64: Compress and use vmlinuz for target install
  * build/config: Diable OSS i810_audio driver (Alsa driver prefered)
  * build/config: Disable OSS cs4232 driver (Alsa prefered)
  * build/config: Disable OSS via82xx driver (Alsa prefered)
  * build/config: Disable OSS trident driver (Alsa prefered)
  * build/config: Disable OSS Sound Blaster driver (Alsa prefered)
  * build/config: Disable IDE generic, ata_generic prefered
  * build/config: Disable siimage, pata_sil680 prefered
  * build/module-check: More robust module checking
  * build: Call module-check with perl, not $SHELL
  * Update configuration files
  * build: Fixup calling conventions of module-check
  * build: Add modules.ignore from 1.3 revision
  * build/config: Disable obsolete MOXA_SMARTIO in favor of new driver.
  * build/config: Disable orinoco_cs in favor of hostap_cs
  * build/config: Disable orinoco_pci in favor of hostap_pci
  * build/config: Disable orinoco_{plx,tmd} in favor of hostap_plx
  * build/config: Disable sk98lin in favor of skge
  * build: Add more modules intentionally removed since 1.3

 -- Ben Collins <bcollins@ubuntu.com>  Fri, 27 Apr 2007 09:04:29 -0400

linux-source-2.6.22 (2.6.22-1.3) gutsy; urgency=low

  [Ben Collins]

  * build: Only use bzip2 for linux-image, and pre-depend on proper dpkg

  [2.6.22-1.2]

  [Ben Collins]

  * build: Add build-arch target. FTBFS

  [2.6.22-1.1]

  [Ben Collins]

  * debian: New build system, from scratch
  * debian: Rename place holder so debian/stamps/ sticks around
  * debian: Create stamp-flavours at start of build (for build scripts)
  * debian/abi: Add revision 0.0 bootstrap module list.
  * debian: Fix backwards logic in module/abi checkers.
  * debian: Add arch= to vars.* files
  * Update configuration files
  * build: Added control scripts for images
  * build/config: Disable CONFIG_PARAVIRT for now
  * build/config: Enable CONFIG_FB_VESA
  * build: Take CONCURRENCY_LEVEL from env if it exists.
  * build: Do not print SHAs by default for changelog
  * build/config(i386): Disable NO_HZ on all but generic
  * build: Implement udeb rules
  * build/d-i: Remove speakup-modules udeb
  * build/udebs: Fix a couple trivial errors in the build.
  * build/config: Disable CONFIG_FB_IMSTT on powerpc64-smp (no NVRAM)
  * build/config: Disable some modules for ppc64 that don't use DMA API
  * build/config: Yet another module to disable on ppc64
  * build/tests: New test infrastructure
  * build: Special kernel build infrastructure
  * build: Fix typo from last commit
  * build/custom: Move custom files for each flavour into subdir.
  * build/config: Disable some drivers on sparc that don't support DMA API
  * build/sparc: Add new compress_file config, and use it for sparc
  * build: Fix typo in compress_file commit.
  * build/schedcfs: Update to v6 of the patch.
  * build: Fix control file generation for custom images
  * build: Correct message in link-headers
  * build: 2.6.21 is released, force our SUBLEVEL to .22
  * build/vars: kvm API is at 4, provide that.
  * build/custom: Allow custom builds to override things like build_image
  * build/custom: Fix type causing custom rules not to be included.
  * build/custom: Hello Xen 3.0.5
  * build/custom: Remove sched-cfs. Superseded in use by rt.
  * build/custom: Add 2.6.21-rt1 patch for -rt custom flavour
  * build/link-headers: Make sure to copy new files for custom

 -- Ben Collins <bcollins@ubuntu.com>  Fri, 27 Apr 2007 08:29:00 -0400
